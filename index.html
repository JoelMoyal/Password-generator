<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Secure Password Generator — Free & Private | pwasecurity</title>

    <!-- SEO -->
    <meta name="description" content="Generate strong, cryptographically secure passwords instantly — free, private, and 100% client-side. Random passwords, passphrases, and PINs with no tracking.">
    <meta name="keywords" content="password generator, secure password, random password, passphrase generator, PIN generator, strong password, free password generator">
    <meta name="author" content="Joël Moyal">
    <link rel="canonical" href="https://pwasecurity.org/">

    <!-- Open Graph (Facebook, LinkedIn, WhatsApp, iMessage) -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://pwasecurity.org/">
    <meta property="og:title" content="Secure Password Generator — Free & Private">
    <meta property="og:description" content="Generate strong, cryptographically secure passwords instantly. Random passwords, passphrases, and PINs — 100% private, no data sent to any server.">
    <meta property="og:image" content="https://pwasecurity.org/og-image.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="pwasecurity">
    <meta property="og:locale" content="en_US">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://pwasecurity.org/">
    <meta name="twitter:title" content="Secure Password Generator — Free & Private">
    <meta name="twitter:description" content="Generate strong, cryptographically secure passwords instantly. Random passwords, passphrases, and PINs — 100% private, no data sent to any server.">
    <meta name="twitter:image" content="https://pwasecurity.org/og-image.png">

    <!-- Favicon -->
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="icon" href="/favicon.ico" sizes="any">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <meta name="theme-color" content="#060a14">

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2353052637618024"
     crossorigin="anonymous"></script>
    <!-- JSON-LD Structured Data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Secure Password Generator",
      "url": "https://pwasecurity.org/",
      "description": "Generate strong, cryptographically secure passwords instantly. Random passwords, passphrases, and PINs — 100% private, no data sent to any server.",
      "applicationCategory": "SecurityApplication",
      "operatingSystem": "Any",
      "browserRequirements": "Requires JavaScript",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Person",
        "name": "Joël Moyal",
        "url": "https://joelmoyal.com"
      },
      "featureList": [
        "Cryptographically secure random password generation",
        "Passphrase generator (Correct-Horse-Battery-Staple style)",
        "PIN generator (4, 6, 8, or 10 digits)",
        "AI-powered password suggestions",
        "Entropy-based strength meter",
        "Fully client-side — no data stored or transmitted",
        "9 languages supported"
      ]
    }
    </script>

    <style>
        :root {
            --bg:       #080c18;
            --surface:  rgba(16,24,48,0.7);
            --surface-2:rgba(0,0,0,0.25);
            --border:   rgba(255,255,255,0.09);
            --border-h: rgba(255,255,255,0.18);
            --text-1:   #f8fafc;
            --text-2:   #a8b8cc;
            --text-3:   #64748b;
            --blue:     #5b9cf6;
            --blue-d:   #3b7de8;
            --purple:   #a78bfa;
            --purple-d: #8b5cf6;
            --green:    #34d068;
            --amber:    #fbbf24;
            --red:      #f87171;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        html {
            height: 100%;
            background-color: var(--bg);
        }
        body {
            min-height: 100%;
            width: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg);
            color: var(--text-1);
            overflow-x: hidden;
            position: relative;
        }
        body::before {
            content: '';
            position: fixed;
            top: -320px; left: -200px;
            width: 820px; height: 820px;
            background: radial-gradient(circle, rgba(91,156,246,0.28) 0%, transparent 58%);
            pointer-events: none; z-index: 0;
        }
        body::after {
            content: '';
            position: fixed;
            top: -180px; right: -180px;
            width: 680px; height: 680px;
            background: radial-gradient(circle, rgba(167,139,250,0.2) 0%, transparent 58%);
            pointer-events: none; z-index: 0;
        }

        .wrapper {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding: 30px 20px;
        }

        .container {
            width: 100%;
            max-width: 560px;
            background-color: var(--surface);
            border: 1px solid var(--border);
            border-radius: 4px;
            padding: 28px 24px;
            box-shadow: 0 0 20px rgba(0,0,0,0.4);
        }

        h1 {
            color: var(--text-1);
            text-align: center;
            margin-bottom: 6px;
            font-size: clamp(1.2rem, 4vw, 1.6rem);
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .subtitle {
            text-align: center;
            font-size: 11px;
            color: var(--text-3);
            letter-spacing: 3px;
            margin-bottom: 24px;
        }

        .section-label {
            font-size: 11px;
            letter-spacing: 3px;
            color: var(--text-3);
            margin: 20px 0 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .section-label::before,
        .section-label::after {
            content: '';
            flex: 1;
            height: 1px;
            background: rgba(255,255,255,0.07);
        }

        .form-group {
            margin-bottom: 14px;
        }

        label {
            display: block;
            margin-bottom: 6px;
            font-size: 13px;
            color: var(--text-2);
            letter-spacing: 1px;
        }

        input[type="number"],
        input[type="text"],
        textarea {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid rgba(255,255,255,0.09);
            border-radius: 10px;
            font-size: 14px;
            font-family: inherit;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(8px);
            color: var(--text-1);
            outline: none;
            transition: box-shadow 0.2s, border-color 0.2s;
        }

        input[type="number"]:focus,
        input[type="text"]:focus,
        textarea:focus {
            box-shadow: 0 0 0 3px rgba(59,130,246,0.2);
            border-color: rgba(59,130,246,0.4);
        }

        textarea {
            resize: vertical;
            min-height: 70px;
        }

        input[type="checkbox"] {
            accent-color: var(--blue);
            cursor: pointer;
        }

        button {
            background-color: var(--blue);
            color: #fff;
            border: none;
            padding: 12px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: clamp(12px, 3vw, 14px);
            font-family: inherit;
            display: block;
            width: 100%;
            margin-top: 16px;
            transition: background-color 0.2s;
            white-space: normal;
            word-break: break-word;
        }

        button:hover {
            background-color: var(--blue-d);
        }

        button:active {
            background-color: var(--blue-d);
        }

        .ai-btn {
            background-color: var(--purple);
        }

        .ai-btn:hover {
            background-color: var(--purple-d);
        }

        .strength-fill {
            height: 100%;
            width: 0%;
            transition: width 0.4s, background-color 0.4s;
        }

        .ai-result {
            margin-top: 14px;
            padding: 14px;
            background: rgba(0,0,0,0.3);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255,255,255,0.09);
            border-radius: 12px;
            font-size: 13px;
            color: var(--text-2);
            display: none;
            white-space: pre-wrap;
            word-break: break-word;
        }

        .ai-result.visible {
            display: block;
        }

        .ai-password-line {
            font-size: 15px;
            color: var(--text-1);
            font-weight: bold;
            margin-bottom: 8px;
        }

        .ai-explanation {
            font-size: 12px;
            color: var(--text-3);
            line-height: 1.5;
        }

        .ai-copy-btn {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            width: 100%;
            margin-top: 10px;
            padding: 8px 12px;
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: var(--text-2);
            font-size: 12px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            transition: background 0.2s, color 0.2s, border-color 0.2s;
        }
        .ai-copy-btn:hover { background: rgba(255,255,255,0.1); border-color: rgba(255,255,255,0.2); color: var(--text-1); }
        .ai-copy-btn svg { width: 13px; height: 13px; stroke: currentColor; flex-shrink: 0; }

        .ai-security-note {
            display: flex;
            align-items: flex-start;
            gap: 8px;
            margin-top: 12px;
            padding: 10px 12px;
            background: rgba(59,130,246,0.07);
            border: 1px solid rgba(59,130,246,0.2);
            border-radius: 8px;
            font-size: 12px;
            color: var(--text-3);
            line-height: 1.5;
        }

        .ai-security-note svg {
            flex-shrink: 0;
            margin-top: 1px;
            color: var(--blue);
        }

        .ai-loading {
            color: var(--purple);
            font-size: 13px;
            letter-spacing: 2px;
            margin-top: 10px;
            display: none;
        }

        .ai-loading.visible {
            display: block;
            animation: pulse 1s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.3; }
        }

        .lang-select {
            background: rgba(255,255,255,0.07);
            color: var(--text-2);
            border: 1px solid rgba(255,255,255,0.12);
            border-radius: 8px;
            padding: 4px 8px;
            font-size: 12px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            outline: none;
            height: 28px;
            transition: border-color 0.2s, color 0.2s, background 0.2s;
            backdrop-filter: blur(8px);
        }

        .lang-select:hover, .lang-select:focus {
            border-color: rgba(59,130,246,0.5);
            color: var(--blue);
            background: rgba(59,130,246,0.08);
        }

        /* ── NAV ── */
        .nav {
            position: sticky; top: 0; z-index: 100;
            background: rgba(6,10,20,0.7);
            backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
            border-bottom: 1px solid rgba(255,255,255,0.07);
            transition: box-shadow 0.2s;
        }
        .nav.scrolled { box-shadow: 0 4px 32px rgba(0,0,0,0.6); }
        .nav-inner {
            max-width: 1120px; margin: 0 auto; padding: 0 24px;
            height: 60px; display: flex; align-items: center; justify-content: space-between;
        }
        .nav-logo {
            display: flex; align-items: center; gap: 9px; text-decoration: none;
        }
        .nav-logo-icon {
            width: 32px; height: 32px;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            border-radius: 8px; display: flex; align-items: center; justify-content: center;
            box-shadow: 0 2px 8px rgba(59,130,246,0.35);
        }
        .nav-logo-icon svg { width: 18px; height: 18px; }
        .nav-logo-text { font-size: 1rem; font-weight: 700; color: var(--text-1); }
        .nav-logo-badge {
            font-size: 10px; font-weight: 600; color: var(--text-3);
            background: rgba(255,255,255,0.06); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 4px; padding: 1px 7px;
        }

        /* ── SLIDER ── */
        .slider-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .slider-label { font-size: 13px; font-weight: 500; color: var(--text-2); }
        .slider-val {
            font-size: 13px; font-weight: 700; color: var(--text-1);
            background: rgba(255,255,255,0.08); border: 1px solid rgba(255,255,255,0.12);
            border-radius: 6px; padding: 2px 10px; min-width: 42px; text-align: center;
            backdrop-filter: blur(8px);
        }
        input[type="range"] {
            -webkit-appearance: none; appearance: none;
            width: 100%; height: 6px; border-radius: 6px; outline: none;
            background: linear-gradient(to right, var(--blue) 0%, var(--blue) var(--p,10%), var(--border) var(--p,10%), var(--border) 100%);
            cursor: pointer;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 22px; height: 22px; border-radius: 50%;
            background: var(--blue); cursor: pointer; border: 3px solid var(--bg);
            box-shadow: 0 0 0 3px rgba(59,130,246,0.3); transition: transform 0.15s, box-shadow 0.15s;
        }
        input[type="range"]::-webkit-slider-thumb:hover { box-shadow: 0 0 0 6px rgba(59,130,246,0.3); transform: scale(1.15); }
        input[type="range"]::-moz-range-thumb {
            width: 22px; height: 22px; border-radius: 50%;
            background: var(--blue); cursor: pointer; border: 3px solid var(--bg);
        }

        /* ── HERO ── */
        .hero {
            background:
                radial-gradient(ellipse 80% 55% at 25% 0%, rgba(91,156,246,0.18), transparent 55%),
                radial-gradient(ellipse 65% 50% at 78% 5%, rgba(167,139,250,0.14), transparent 55%);
            padding: 96px 24px 56px; text-align: center;
            position: relative; z-index: 1;
        }
        .hero-eyebrow {
            display: inline-flex; align-items: center; gap: 8px;
            font-size: 11px; font-weight: 700;
            letter-spacing: 2.5px; text-transform: uppercase;
            color: var(--blue); margin-bottom: 24px;
            background: rgba(91,156,246,0.1);
            border: 1px solid rgba(91,156,246,0.25);
            border-radius: 100px; padding: 5px 14px;
        }
        h1.hero-title {
            font-size: clamp(2.4rem, 6vw, 4rem); font-weight: 800;
            color: var(--text-1); line-height: 1.1; letter-spacing: -1.5px; margin-bottom: 20px;
        }
        h1.hero-title .accent {
            background: linear-gradient(135deg, var(--blue), var(--purple));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
        }
        .hero-sub {
            font-size: clamp(1rem, 2.2vw, 1.15rem); color: var(--text-2);
            max-width: 520px; margin: 0 auto 48px; line-height: 1.75;
        }
        .tool-wrap { max-width: 660px; margin: 0 auto; }
        .tool-card {
            background: rgba(16,24,52,0.65);
            backdrop-filter: blur(40px); -webkit-backdrop-filter: blur(40px);
            border: 1px solid rgba(255,255,255,0.12);
            border-bottom: none;
            border-radius: 24px 24px 0 0; padding: 32px;
            box-shadow: 0 40px 100px rgba(0,0,0,0.7), inset 0 1px 0 rgba(255,255,255,0.1);
        }



        @media (max-width: 480px) {
            .wrapper { padding: 10px; }
            .container { padding: 16px; }
            h1 { font-size: 1.1rem; }
        }

        @media (pointer: coarse) {
            input[type="checkbox"] { width: 20px; height: 20px; }
            button, .option-item { min-height: 44px; }
            input[type="range"] { height: 10px; }
            input[type="range"]::-webkit-slider-thumb { width: 28px; height: 28px; }
        }

        /* ── TABS ── */
        .tabs {
            display: flex;
            gap: 6px;
            margin-bottom: 20px;
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.07);
            border-radius: 12px;
            padding: 4px;
            backdrop-filter: blur(8px);
        }
        .tab-btn {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 7px;
            padding: 9px 14px;
            border-radius: 9px;
            border: none;
            background: transparent;
            color: var(--text-2);
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s, color 0.2s, box-shadow 0.2s;
            width: auto;
            margin: 0;
        }
        .tab-btn:hover { background: rgba(255,255,255,0.06); color: var(--text-1); }
        .tab-btn.active {
            background: rgba(255,255,255,0.1);
            color: var(--text-1);
            box-shadow: 0 1px 8px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.08);
        }
        .tab-btn.ai-tab.active { color: var(--purple); }
        .tab-panel { display: none; }
        .tab-panel.active { display: block; }

        /* ── PASSWORD DISPLAY ── */
        .pw-display {
            width: 100%;
            font-family: 'Courier New', Courier, monospace;
            font-size: 15px;
            background: rgba(0,0,0,0.35);
            border: 1px solid rgba(255,255,255,0.09);
            border-radius: 12px;
            padding: 14px 16px;
            color: var(--text-1);
            word-break: break-all;
            min-height: 52px;
            display: flex;
            align-items: center;
            margin-bottom: 10px;
            letter-spacing: 0.05em;
            backdrop-filter: blur(8px);
        }
        .action-row {
            display: flex;
            gap: 10px;
            margin-top: 12px;
        }
        .btn-new-pw {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 7px;
            padding: 13px 20px;
            background: rgba(59,130,246,0.08);
            border: 1px solid rgba(59,130,246,0.35);
            border-radius: 10px;
            color: var(--blue);
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            transition: background 0.2s, border-color 0.2s, box-shadow 0.2s;
            white-space: normal;
            word-break: break-word;
            margin-top: 0;
            backdrop-filter: blur(8px);
        }
        .btn-new-pw:hover { background: rgba(59,130,246,0.15); border-color: rgba(59,130,246,0.55); box-shadow: 0 0 16px rgba(59,130,246,0.15); }
        .btn-new-pw svg { width: 15px; height: 15px; stroke: currentColor; flex-shrink: 0; }
        .copy-btn-full {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(135deg, var(--blue), var(--purple));
            color: #fff;
            border: none;
            border-radius: 10px;
            padding: 13px 20px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: opacity 0.2s, box-shadow 0.2s;
            margin: 0 0 16px 0;
            box-shadow: 0 4px 20px rgba(59,130,246,0.3);
        }
        .copy-btn-full:hover { opacity: 0.88; box-shadow: 0 6px 28px rgba(59,130,246,0.45); }
        .copy-btn-full svg { width: 16px; height: 16px; stroke: currentColor; flex-shrink: 0; }
        .strength-track {
            height: 4px;
            border-radius: 2px;
            background: rgba(255,255,255,0.06);
            overflow: hidden;
            margin-bottom: 6px;
        }
        .strength-label {
            font-size: 11px;
            text-align: right;
            letter-spacing: 2px;
            margin-bottom: 12px;
        }

        /* ── OPTIONS GRID ── */
        .easy-say-note { font-size: 11px; color: var(--text-3); padding: 4px 0 6px 26px; }
        .options-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 8px;
            margin-bottom: 16px;
        }
        .option-item {
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(255,255,255,0.04);
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 10px;
            padding: 10px 12px;
            cursor: pointer;
            user-select: none;
            transition: border-color 0.2s, background 0.2s, box-shadow 0.2s;
            backdrop-filter: blur(8px);
        }
        .option-item:hover { border-color: rgba(255,255,255,0.18); background: rgba(255,255,255,0.08); box-shadow: inset 0 1px 0 rgba(255,255,255,0.06); }
        .option-item input { pointer-events: none; accent-color: var(--blue); width: 16px; height: 16px; }
        .option-item span { font-size: 13px; color: var(--text-2); }

        /* ── TRUST STRIP ── */
        .trust-strip {
            background: rgba(10,18,40,0.7);
            backdrop-filter: blur(24px); -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255,255,255,0.09);
            border-top: 1px solid rgba(255,255,255,0.06);
            border-radius: 0 0 20px 20px;
        }
        .trust-inner {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            text-align: center;
        }
        .trust-item {
            padding: 16px 12px;
            border-right: 1px solid rgba(255,255,255,0.06);
        }
        .trust-item:last-child { border-right: none; }
        .trust-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--text-1);
            display: block;
            margin-bottom: 2px;
        }
        .trust-sub {
            font-size: 11px;
            color: var(--text-3);
        }

        /* ── FEATURES SECTION ── */
        .features-section {
            padding: 110px 24px 80px;
            position: relative; z-index: 1;
        }
        .section-center {
            max-width: 1120px;
            margin: 0 auto;
        }
        .section-eyebrow {
            display: inline-flex;
            align-items: center;
            font-size: 11px;
            font-weight: 700;
            letter-spacing: 2.5px;
            text-transform: uppercase;
            color: var(--blue);
            margin-bottom: 20px;
            background: rgba(91,156,246,0.1);
            border: 1px solid rgba(91,156,246,0.22);
            border-radius: 100px;
            padding: 5px 14px;
        }
        .section-title {
            font-size: clamp(2rem, 4.5vw, 3.2rem);
            font-weight: 800;
            color: var(--text-1);
            margin-bottom: 16px;
            line-height: 1.1;
            letter-spacing: -1px;
        }
        .section-sub {
            font-size: 1.05rem;
            color: var(--text-2);
            max-width: 560px;
            line-height: 1.75;
            margin-bottom: 56px;
        }
        .features-grid {
            max-width: 1120px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }
        .feature-card {
            background: rgba(16,24,52,0.6);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.09);
            border-radius: 20px;
            padding: 32px 28px;
            transition: transform 0.25s, border-color 0.25s, box-shadow 0.25s;
            border-top-width: 2px;
        }
        .feature-card:hover { transform: translateY(-4px); box-shadow: 0 20px 60px rgba(0,0,0,0.5); }
        .features-grid .feature-card:nth-child(1) { border-top-color: rgba(59,130,246,0.7); }
        .features-grid .feature-card:nth-child(1):hover { border-color: rgba(59,130,246,0.5); border-top-color: rgba(59,130,246,0.9); }
        .features-grid .feature-card:nth-child(2) { border-top-color: rgba(34,197,94,0.7); }
        .features-grid .feature-card:nth-child(2):hover { border-color: rgba(34,197,94,0.4); border-top-color: rgba(34,197,94,0.9); }
        .features-grid .feature-card:nth-child(3) { border-top-color: rgba(139,92,246,0.7); }
        .features-grid .feature-card:nth-child(3):hover { border-color: rgba(139,92,246,0.4); border-top-color: rgba(139,92,246,0.9); }
        .feature-icon {
            width: 44px;
            height: 44px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 16px;
        }
        .fi-blue  { background: rgba(59,130,246,0.15); border: 1px solid rgba(59,130,246,0.2); }
        .fi-green { background: rgba(34,197,94,0.15); border: 1px solid rgba(34,197,94,0.2); }
        .fi-purple { background: rgba(139,92,246,0.15); border: 1px solid rgba(139,92,246,0.2); }
        .feature-icon svg { width: 22px; height: 22px; }
        .feature-title {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-1);
            margin-bottom: 10px;
            letter-spacing: -0.2px;
        }
        .feature-body {
            font-size: 14px;
            color: var(--text-2);
            line-height: 1.7;
        }

        /* ── GUIDE SECTION ── */
        .guide-section {
            padding: 110px 24px 90px;
            background-color: rgba(255,255,255,0.022);
            background-image:
                radial-gradient(rgba(255,255,255,0.04) 1px, transparent 1px);
            background-size: 30px 30px;
            border-top: 1px solid rgba(255,255,255,0.07);
            border-bottom: 1px solid rgba(255,255,255,0.07);
        }
        .guide-section .section-eyebrow { color: var(--blue); }
        .guide-blocks {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1px;
            margin-top: 3rem;
            border: 1px solid rgba(255,255,255,0.07);
            border-radius: 20px;
            overflow: hidden;
            background: rgba(255,255,255,0.05);
        }
        .guide-block {
            background: rgba(12,18,40,0.75);
            padding: 2.5rem 2.25rem;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(20px);
            transition: background 0.25s;
        }
        .guide-block:hover { background: rgba(16,26,52,0.9); }
        .guide-block::before {
            content: attr(data-num);
            position: absolute;
            bottom: -0.5rem;
            right: 1.25rem;
            font-size: 6rem;
            font-weight: 900;
            line-height: 1;
            color: rgba(255,255,255,0.03);
            pointer-events: none;
            user-select: none;
            letter-spacing: -4px;
        }
        /* summary acts as a plain block on desktop */
        .guide-block-summary { list-style: none; display: block; cursor: default; }
        .guide-block-summary::-webkit-details-marker { display: none; }
        .guide-block-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.1rem;
        }
        .guide-block-icon svg { width: 20px; height: 20px; }
        .gi-amber { background: rgba(245,158,11,0.12); border: 1px solid rgba(245,158,11,0.2); }
        .gi-blue  { background: rgba(59,130,246,0.12); border: 1px solid rgba(59,130,246,0.2); }
        .gi-purple { background: rgba(139,92,246,0.12); border: 1px solid rgba(139,92,246,0.2); }
        .gi-green  { background: rgba(34,197,94,0.12); border: 1px solid rgba(34,197,94,0.2); }
        .guide-block-title {
            font-size: 17px;
            font-weight: 700;
            color: var(--text-1);
            margin-bottom: 0.8rem;
            letter-spacing: -0.3px;
        }
        .guide-block-body {
            font-size: 14px;
            color: var(--text-2);
            line-height: 1.8;
            position: relative;
        }
        .guide-rules {
            list-style: none;
            margin-top: 0.75rem;
            display: flex;
            flex-direction: column;
            gap: 0.45rem;
        }
        .guide-rules li { font-size: 13px; color: var(--text-2); line-height: 1.5; }
        .guide-rules li::before { content: "✓ "; color: var(--green); font-weight: 700; }

        /* ── ARTICLES SECTION ── */
        .articles-section {
            padding: 100px 24px 90px;
        }
        .articles-section .section-eyebrow { color: var(--blue); }
        /* ── ARTICLES LAYOUT ── */
        .articles-layout {
            margin-top: 2.5rem;
            max-width: 760px;
            margin-left: auto;
            margin-right: auto;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .article-badge {
            font-size: 10px; font-weight: 700; text-transform: uppercase;
            letter-spacing: 0.08em; padding: 3px 9px; border-radius: 20px;
        }
        .badge-category { background: rgba(59,130,246,0.15); color: var(--blue); }
        .badge-soon { background: rgba(245,158,11,0.15); color: var(--amber); }

        /* Featured card */
        .article-featured {
            display: flex; flex-direction: column; gap: 10px;
            background: var(--surface); border: 1px solid var(--border);
            border-top: 2px solid rgba(91,156,246,0.5);
            border-radius: 16px; padding: 1.75rem;
            text-decoration: none; backdrop-filter: blur(20px);
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        .article-featured:hover { border-color: var(--border-h); box-shadow: 0 12px 32px rgba(0,0,0,0.3); }
        .article-featured-meta { display: flex; align-items: center; gap: 10px; }
        .article-featured-time { font-size: 11px; color: var(--text-3); }
        .article-featured-title { font-size: 1.2rem; font-weight: 700; color: var(--text-1); line-height: 1.3; letter-spacing: -0.3px; }
        .article-featured-excerpt { font-size: 14px; color: var(--text-2); line-height: 1.7; }
        .article-featured-cta { font-size: 13px; font-weight: 600; color: var(--blue); padding-top: 6px; border-top: 1px solid var(--border); }

        /* Compact list */
        .articles-list {
            display: flex; flex-direction: column;
            border: 1px solid var(--border); border-radius: 14px;
            overflow: hidden; background: var(--surface); backdrop-filter: blur(20px);
        }
        .article-row {
            display: flex; align-items: center; gap: 14px;
            padding: 13px 20px; text-decoration: none;
            border-bottom: 1px solid var(--border);
            transition: background 0.15s;
        }
        .article-row:last-child { border-bottom: none; }
        .article-row:hover { background: rgba(255,255,255,0.03); }
        .article-row-title { font-size: 0.9rem; font-weight: 600; color: var(--text-1); flex: 1; line-height: 1.4; }
        .article-row-meta { font-size: 11px; color: var(--text-3); flex-shrink: 0; white-space: nowrap; }
        .article-row-arrow { font-size: 16px; color: var(--text-3); flex-shrink: 0; transition: color 0.15s, transform 0.15s; }
        .article-row:hover .article-row-arrow { color: var(--text-1); transform: translateX(2px); }

        /* ── FAQ SECTION ── */
        .faq-section {
            padding: 110px 24px 100px;
            background-color: rgba(255,255,255,0.022);
            border-top: 1px solid rgba(255,255,255,0.07);
            border-bottom: 1px solid rgba(255,255,255,0.07);
        }
        .faq-section .section-eyebrow { color: var(--blue); }
        .faq-section .section-center {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 4rem;
            align-items: start;
        }
        .faq-header { position: sticky; top: 100px; }
        .faq-header .section-eyebrow,
        .faq-header .section-title,
        .faq-header .section-sub { text-align: left; }
        .faq-list {
            width: 100%;
        }
        details.faq-item {
            border: 1px solid rgba(255,255,255,0.08);
            border-radius: 14px;
            margin-bottom: 10px;
            overflow: hidden;
            backdrop-filter: blur(16px);
            transition: border-color 0.2s;
        }
        details[open].faq-item { border-color: rgba(59,130,246,0.35); box-shadow: inset 3px 0 0 var(--blue); }
        details.faq-item summary {
            padding: 22px 24px;
            font-weight: 600;
            font-size: 15px;
            cursor: pointer;
            background: rgba(14,20,42,0.45);
            display: flex;
            justify-content: space-between;
            align-items: center;
            list-style: none;
            color: var(--text-1);
        }
        details.faq-item summary::-webkit-details-marker { display: none; }
        details.faq-item summary::after { content: '+'; font-size: 18px; color: var(--text-3); font-weight: 400; }
        details[open].faq-item summary::after { content: '\2212'; }
        .faq-answer {
            padding: 18px 22px 22px;
            font-size: 14px;
            color: var(--text-2);
            background: rgba(0,0,0,0.2);
            line-height: 1.75;
        }

        /* ── SITE FOOTER ── */
        .site-footer {
            padding: 48px 24px;
            border-top: 1px solid rgba(255,255,255,0.06);
        }
        .footer-inner {
            max-width: 1120px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 20px;
        }
        .footer-brand {
            font-size: 13px;
            color: var(--text-3);
        }
        .footer-builder-note { font-size: 11px; color: var(--text-3); font-style: italic; margin-top: 3px; }
        .local-badge { display: inline-flex; align-items: center; gap: 5px; font-size: 11px; font-weight: 600;
          color: var(--green); background: rgba(52,208,104,0.1); border: 1px solid rgba(52,208,104,0.25);
          border-radius: 100px; padding: 3px 10px; text-decoration: none; margin-top: 8px; }
        .local-badge:hover { background: rgba(52,208,104,0.18); }
        .footer-brand strong {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-2);
            display: block;
            margin-bottom: 3px;
        }
        .social-links {
            display: flex;
            gap: 16px;
        }
        .social-link {
            color: var(--text-3);
            text-decoration: none;
            transition: color 0.2s;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 13px;
        }
        .social-link:hover { color: var(--text-1); }
        .social-icon {
            width: 15px;
            height: 15px;
        }
        .footer-legal {
            width: 100%;
            display: flex;
            gap: 16px;
            font-size: 12px;
            color: var(--text-3);
            padding-top: 16px;
            border-top: 1px solid rgba(255,255,255,0.05);
            flex-wrap: wrap;
        }
        .footer-legal a { color: var(--text-3); text-decoration: none; }
        .footer-legal a:hover { color: var(--text-2); }

        /* ── COOKIE CONSENT ── */
        .cookie-banner {
            position: fixed;
            bottom: 20px; right: 20px;
            width: 300px;
            background: #0f1624;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 16px;
            padding: 18px 20px;
            z-index: 999;
            font-size: 13px;
            color: var(--text-2);
            box-shadow: 0 16px 48px rgba(0,0,0,0.6);
            animation: cookieSlide 0.3s cubic-bezier(0.34,1.56,0.64,1) both;
        }
        @keyframes cookieSlide {
            from { opacity: 0; transform: translateY(16px) scale(0.97); }
            to   { opacity: 1; transform: translateY(0) scale(1); }
        }
        .cookie-banner.hidden { display: none; }
        .cookie-icon { font-size: 22px; margin-bottom: 8px; display: block; }
        .cookie-title { font-size: 14px; font-weight: 700; color: var(--text-1); margin-bottom: 5px; }
        .cookie-text { font-size: 12px; line-height: 1.6; color: var(--text-3); margin-bottom: 14px; }
        .cookie-text a { color: var(--blue); text-decoration: none; }
        .cookie-text a:hover { text-decoration: underline; }
        .cookie-actions { display: flex; gap: 8px; }
        .cookie-btn {
            flex: 1;
            padding: 8px 0;
            border-radius: 9px;
            border: none;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            font-family: inherit;
            transition: opacity 0.15s, background 0.15s;
        }
        .cookie-btn-accept { background: var(--blue); color: #fff; }
        .cookie-btn-accept:hover { opacity: 0.88; }
        .cookie-btn-decline { background: rgba(255,255,255,0.06); color: var(--text-2); border: 1px solid rgba(255,255,255,0.09); }
        .cookie-btn-decline:hover { background: rgba(255,255,255,0.1); color: var(--text-1); }
        @media (max-width: 360px) {
            .cookie-banner { right: 12px; left: 12px; width: auto; bottom: max(12px, env(safe-area-inset-bottom)); }
        }

        /* ── SLIDER BUBBLE ── */
        .slider-bubble {
            position: absolute;
            top: 0;
            transform: translateX(-50%);
            background: var(--blue);
            color: #fff;
            font-size: 13px;
            font-weight: 700;
            padding: 3px 10px;
            border-radius: 7px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.2s, left 0.04s;
            box-shadow: 0 0 0 4px rgba(59,130,246,0.2);
            z-index: 10;
        }
        .slider-bubble::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 5px solid transparent;
            border-top-color: var(--blue);
        }
        .slider-wrap { position: relative; margin-bottom: 20px; padding-top: 24px; }
        .slider-wrap.dragging .slider-bubble { opacity: 1; }
        .slider-wrap.dragging input[type="range"] { height: 8px; }
        input[type="range"] { transition: height 0.15s; }
        .slider-wrap.dragging input[type="range"]::-webkit-slider-thumb {
            transform: scale(1.35);
            box-shadow: 0 0 0 10px rgba(59,130,246,0.2);
        }
        @keyframes valPop {
            0%   { transform: scale(1); }
            40%  { transform: scale(1.25); border-color: var(--blue); }
            100% { transform: scale(1); }
        }
        .slider-val { transition: color 0.2s; }
        .slider-val.pop { animation: valPop 0.25s ease; }

        /* ── LOGO ACCENT ── */
        .logo-accent {
            background: linear-gradient(135deg, var(--blue), var(--purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        /* ── RESPONSIVE ── */
        @media (max-width: 768px) {
            /* Grids → single column */
            .features-grid { grid-template-columns: 1fr; gap: 14px; }
            .trust-inner { grid-template-columns: 1fr; }
            .guide-blocks { grid-template-columns: 1fr; }
            .articles-grid { grid-template-columns: 1fr; }
            .faq-section .section-center { grid-template-columns: 1fr; gap: 2rem; }
            .faq-header { position: static; }

            /* Hero */
            .hero { padding: 64px 20px 40px; }
            .hero-sub { margin-bottom: 32px; font-size: 0.98rem; }

            /* Tool card */
            .tool-card { padding: 22px 18px; border-radius: 18px 18px 0 0; }

            /* Section padding */
            .features-section { padding: 72px 20px 60px; }
            .guide-section    { padding: 72px 20px 60px; }
            .articles-section { padding: 72px 20px 60px; }
            .faq-section      { padding: 72px 20px 60px; }

            /* Section text */
            .section-sub { margin-bottom: 36px; font-size: 0.97rem; }

            /* Feature cards */
            .feature-card { padding: 22px 20px; }

            /* Guide blocks — accordion on mobile */
            .guide-block { padding: 1.1rem 1.25rem; }
            .guide-block-summary {
                display: flex; align-items: center; gap: 12px;
                cursor: pointer; position: relative; padding-right: 28px;
            }
            .guide-block-summary::after {
                content: '+'; position: absolute; right: 0;
                font-size: 20px; color: var(--text-3); font-weight: 300; line-height: 1;
            }
            details[open].guide-block .guide-block-summary::after { content: '\2212'; }
            .guide-block-summary .guide-block-icon { margin-bottom: 0; flex-shrink: 0; }
            .guide-block-summary .guide-block-title { margin-bottom: 0; font-size: 15px; }
            .guide-block-body { margin-top: 1rem; }
            .guide-rules { margin-top: 0.5rem; }

            /* FAQ */
            details.faq-item summary { padding: 18px 20px; font-size: 14px; }
            .faq-answer { padding: 14px 18px 18px; }

            /* Nav */
            .nav-logo-badge { display: none; }
            .nav-inner { padding: 0 16px; }

            /* Footer */
            .footer-inner { flex-direction: column; align-items: flex-start; gap: 16px; }
            .site-footer { padding: 36px 20px; padding-bottom: max(36px, env(safe-area-inset-bottom)); }

            /* Articles list rows — bigger tap target */
            .article-row { padding: 15px 16px; gap: 10px; }
            .article-row-meta { display: none; }
        }

        @media (max-width: 480px) {
            .options-grid { grid-template-columns: 1fr; }

            /* Hero tighter on small phones */
            .hero { padding: 48px 16px 32px; }
            h1.hero-title { letter-spacing: -1px; }

            /* Tool card */
            .tool-card { padding: 18px 14px; }

            /* Password display */
            .pw-display { font-size: 13px; padding: 12px 14px; }

            /* Action row — stack on very small screens */
            .action-row { flex-direction: column; }
            .btn-new-pw, .copy-btn-full { width: 100%; }
            .copy-btn-full { margin-bottom: 12px; }

            /* Trust strip — compact */
            .trust-item { padding: 14px 12px; }

            /* Article featured card */
            .article-featured { padding: 1.25rem; }
            .article-featured-title { font-size: 1.05rem; }
            .article-featured-excerpt { font-size: 13px; }
        }

        @media (pointer: coarse) {
            .icon-btn { min-height: 44px; min-width: 44px; }
            .copy-btn-full { min-height: 48px; }
            .btn-new-pw { min-height: 48px; }
            .article-row { min-height: 52px; }
        }

        /* ── MODE BAR ── */
        .mode-bar {
            display: flex; gap: 4px; margin-bottom: 18px;
            background: rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.06);
            border-radius: 10px; padding: 3px;
        }
        .mode-btn {
            flex: 1; padding: 7px 10px; border-radius: 7px; border: none;
            background: transparent; color: var(--text-3); font-size: 12px;
            font-weight: 600; cursor: pointer; transition: background 0.18s, color 0.18s;
            font-family: inherit; margin: 0; white-space: nowrap;
        }
        .mode-btn:hover { background: rgba(255,255,255,0.05); color: var(--text-2); }
        .mode-btn.active {
            background: rgba(255,255,255,0.09); color: var(--text-1);
            box-shadow: 0 1px 6px rgba(0,0,0,0.35);
        }
        .mode-panel { display: none; }
        .mode-panel.active { display: block; }

        /* ── PASSPHRASE CONTROLS ── */
        .phrase-controls { margin-bottom: 14px; }
        .phrase-ctrl-row {
            display: flex; align-items: center; justify-content: space-between;
            gap: 12px; margin-bottom: 10px;
        }
        .phrase-ctrl-label { font-size: 13px; color: var(--text-2); font-weight: 500; white-space: nowrap; }
        .sep-select {
            background: rgba(0,0,0,0.3); color: var(--text-1);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 8px;
            padding: 5px 10px; font-size: 12px; font-family: inherit;
            cursor: pointer; outline: none; backdrop-filter: blur(8px);
            transition: border-color 0.2s;
        }
        .sep-select:hover, .sep-select:focus { border-color: rgba(59,130,246,0.4); }
        .phrase-toggle-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }

        /* ── PIN CONTROLS ── */
        .pin-header { font-size: 13px; color: var(--text-2); font-weight: 500; margin-bottom: 12px; }
        .pin-length-group { display: flex; gap: 8px; margin-bottom: 10px; }
        .pin-len-btn {
            flex: 1; padding: 12px 8px; border-radius: 10px;
            border: 1px solid rgba(255,255,255,0.08);
            background: rgba(255,255,255,0.04); color: var(--text-2);
            font-size: 15px; font-weight: 700; cursor: pointer;
            font-family: inherit; transition: background 0.18s, color 0.18s, border-color 0.18s;
            margin: 0; backdrop-filter: blur(8px);
        }
        .pin-len-btn:hover { background: rgba(255,255,255,0.08); color: var(--text-1); }
        .pin-len-btn.active {
            background: rgba(59,130,246,0.14); border-color: rgba(59,130,246,0.45);
            color: var(--blue); box-shadow: 0 0 14px rgba(59,130,246,0.12);
        }
        .pin-info-text {
            font-size: 12px; color: var(--text-3); text-align: center;
            padding: 6px; margin-bottom: 8px; min-height: 20px;
        }

        /* ── HISTORY ── */
        .history-wrap { max-width: 660px; margin: 10px auto 0; }
        .history-details > summary {
            display: flex; align-items: center; gap: 8px; padding: 12px 18px;
            cursor: pointer; list-style: none;
            background: rgba(14,20,42,0.5); backdrop-filter: blur(16px);
            border: 1px solid rgba(255,255,255,0.07); border-radius: 12px;
            font-size: 13px; font-weight: 600; color: var(--text-2);
            transition: background 0.2s, border-color 0.2s; user-select: none;
        }
        .history-details > summary:hover { background: rgba(14,20,42,0.7); border-color: rgba(255,255,255,0.12); }
        .history-details[open] > summary { border-radius: 12px 12px 0 0; border-bottom-color: transparent; }
        .history-details > summary::-webkit-details-marker { display: none; }
        .hist-chevron { margin-left: auto; font-size: 11px; color: var(--text-3); transition: transform 0.2s; display: inline-block; }
        .history-details[open] > summary .hist-chevron { transform: rotate(180deg); }
        .history-count {
            background: var(--blue); color: #fff; font-size: 10px; font-weight: 700;
            padding: 1px 7px; border-radius: 99px; min-width: 20px; text-align: center;
        }
        .history-clear-btn { background: rgba(248,113,113,0.08); border: 1px solid rgba(248,113,113,0.25);
          border-radius: 8px; font-size: 12px; font-weight: 600; color: var(--red);
          cursor: pointer; padding: 6px 14px; display: flex; align-items: center; gap: 5px;
          transition: background 0.2s, border-color 0.2s; margin: 10px auto 4px; }
        .history-clear-btn:hover { background: rgba(248,113,113,0.18); border-color: rgba(248,113,113,0.5); }
        .history-list {
            background: rgba(6,10,20,0.7); backdrop-filter: blur(16px);
            border: 1px solid rgba(255,255,255,0.07); border-top: none;
            border-radius: 0 0 12px 12px; overflow: hidden;
        }
        .history-entry {
            display: flex; align-items: center; gap: 10px; padding: 11px 16px;
            border-bottom: 1px solid rgba(255,255,255,0.04);
        }
        .history-entry:last-child { border-bottom: none; }
        .history-pw {
            flex: 1; font-family: 'Courier New', monospace; font-size: 13px;
            color: var(--text-1); word-break: break-all; letter-spacing: 0.03em; min-width: 0;
            filter: blur(5px); transition: filter 0.2s; cursor: pointer; user-select: none;
        }
        .history-pw.revealed { filter: none; user-select: text; cursor: default; }
        .history-reveal-btn {
            padding: 4px 5px; background: transparent; border: none;
            color: var(--text-3); cursor: pointer; flex-shrink: 0;
            display: flex; align-items: center; margin: 0; width: auto; transition: color 0.15s;
        }
        .history-reveal-btn:hover { color: var(--text-1); }
        .history-meta { font-size: 11px; color: var(--text-3); white-space: nowrap; flex-shrink: 0; padding-right: 4px; }
        .history-copy-btn {
            padding: 4px 10px; background: rgba(255,255,255,0.06);
            border: 1px solid rgba(255,255,255,0.1); border-radius: 6px;
            color: var(--text-2); font-size: 11px; font-weight: 600;
            cursor: pointer; font-family: inherit; width: auto; margin: 0;
            flex-shrink: 0; transition: background 0.15s, color 0.15s;
        }
        .history-copy-btn:hover { background: rgba(255,255,255,0.12); color: var(--text-1); }
        .history-empty { padding: 20px; text-align: center; color: var(--text-3); font-size: 13px; }
    </style>
</head>
<body>
    <nav class="nav" id="main-nav">
        <div class="nav-inner">
            <a class="nav-logo" href="#">
                <div class="nav-logo-icon">
                    <svg viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 2L4 5.5V11c0 5 3.5 9.7 8 11 4.5-1.3 8-6 8-11V5.5L12 2z" fill="rgba(255,255,255,0.18)" stroke="rgba(255,255,255,0.85)" stroke-width="1.5"/>
                        <path d="M8.5 12l2.5 2.5 5-5" stroke="white" stroke-width="2"/>
                    </svg>
                </div>
                <span class="nav-logo-text">pwa<span class="logo-accent">security</span></span>
                <span class="nav-logo-badge">Free</span>
            </a>
            <select id="lang-select" class="lang-select">
                <option value="en">🌐 EN</option>
                <option value="de">DE</option>
                <option value="fr">FR</option>
                <option value="es">ES</option>
                <option value="it">IT</option>
                <option value="pt">PT</option>
                <option value="nl">NL</option>
                <option value="pl">PL</option>
                <option value="ru">RU</option>
            </select>
        </div>
    </nav>
    <section class="hero">
        <p class="hero-eyebrow">Free · No Account · Browser-Only</p>
        <h1 class="hero-title" id="title"><span class="accent">AI</span> Password Generator</h1>
        <p class="hero-sub" id="subtitle">Strong, unique passwords generated instantly in your browser. Nothing ever leaves your device.</p>
    <div class="tool-wrap"><div class="tool-card">

            <div class="tabs">
                <button class="tab-btn active" data-tab="manual">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                    Password
                </button>
                <button class="tab-btn ai-tab" data-tab="ai">
                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 22 22 7 12 2"/><line x1="12" y1="22" x2="12" y2="7"/><polyline points="2 7 12 12 22 7"/></svg>
                    AI Mode
                </button>
            </div>
            <div class="tab-panel active" id="panel-manual">
            <!-- Mode bar -->
            <div class="mode-bar">
                <button class="mode-btn active" id="mode-btn-random" data-mode="random">Random</button>
                <button class="mode-btn" id="mode-btn-passphrase" data-mode="passphrase">Passphrase</button>
                <button class="mode-btn" id="mode-btn-pin" data-mode="pin">PIN</button>
            </div>

            <!-- Random mode panel -->
            <div class="mode-panel active" id="mode-panel-random">
                <div class="slider-row">
                    <span class="slider-label" id="length-label">Password Length</span>
                    <span class="slider-val" id="length-val">16</span>
                </div>
                <div class="slider-wrap" id="slider-wrap">
                    <div class="slider-bubble" id="slider-bubble">16</div>
                    <input type="range" id="length" min="8" max="128" value="16">
                </div>
                <div class="options-grid">
                    <label class="option-item" for="uppercase">
                        <input type="checkbox" id="uppercase" checked>
                        <span id="uppercase-label">Uppercase A-Z</span>
                    </label>
                    <label class="option-item" for="lowercase">
                        <input type="checkbox" id="lowercase" checked>
                        <span id="lowercase-label">Lowercase a-z</span>
                    </label>
                    <label class="option-item" for="numbers">
                        <input type="checkbox" id="numbers" checked>
                        <span id="numbers-label">Numbers 0-9</span>
                    </label>
                    <label class="option-item" for="symbols">
                        <input type="checkbox" id="symbols" checked>
                        <span id="symbols-label">Symbols !@#$</span>
                    </label>
                    <label class="option-item" for="no-ambiguous" style="grid-column: 1 / -1;">
                        <input type="checkbox" id="no-ambiguous">
                        <span id="no-ambiguous-label">Exclude ambiguous (0Ol1I)</span>
                    </label>
                    <label class="option-item" for="easy-say" style="grid-column: 1 / -1;">
                        <input type="checkbox" id="easy-say">
                        <span>Easy to say (pronounceable)</span>
                    </label>
                </div>
                <p class="easy-say-note" id="easy-say-note" style="display:none">Generates CVC pseudo-words joined with hyphens (e.g. <em>bok-ril-fas-27</em>). Length auto-set to 20+ for security.</p>
            </div>

            <!-- Passphrase mode panel -->
            <div class="mode-panel" id="mode-panel-passphrase">
                <div class="slider-row">
                    <span class="slider-label" id="word-count-label">Word Count</span>
                    <span class="slider-val" id="word-count-val">4</span>
                </div>
                <div class="slider-wrap" id="phrase-slider-wrap">
                    <div class="slider-bubble" id="phrase-bubble">4</div>
                    <input type="range" id="word-count" min="3" max="8" value="4">
                </div>
                <div class="phrase-controls">
                    <div class="phrase-ctrl-row">
                        <span class="phrase-ctrl-label" id="separator-label">Separator</span>
                        <select class="sep-select" id="sep-select">
                            <option value="-">Hyphen  -</option>
                            <option value=".">Dot  .</option>
                            <option value="_">Underscore  _</option>
                            <option value=" ">Space</option>
                            <option value="">None</option>
                        </select>
                    </div>
                    <div class="phrase-toggle-row">
                        <label class="option-item" for="phrase-capitalize">
                            <input type="checkbox" id="phrase-capitalize" checked>
                            <span id="capitalize-label">Capitalize</span>
                        </label>
                        <label class="option-item" for="phrase-append-num">
                            <input type="checkbox" id="phrase-append-num" checked>
                            <span id="append-num-label">Add number</span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- PIN mode panel -->
            <div class="mode-panel" id="mode-panel-pin">
                <p class="pin-header" id="pin-length-label">PIN Length</p>
                <div class="pin-length-group">
                    <button class="pin-len-btn active" data-len="4">4</button>
                    <button class="pin-len-btn" data-len="6">6</button>
                    <button class="pin-len-btn" data-len="8">8</button>
                    <button class="pin-len-btn" data-len="10">10</button>
                </div>
                <div class="pin-info-text" id="pin-info"></div>
            </div>

            <!-- Shared: display + strength + actions (all modes) -->
            <div class="pw-display" id="password-display"></div>
            <div class="strength-track" id="strength-track-wrap">
                <div class="strength-fill" id="strength-fill"></div>
            </div>
            <div class="strength-label" id="strength-text"></div>
            <div id="strength-warning" style="display:none; font-size:12px; color:#ef4444; margin: 4px 0 0; padding: 6px 10px; background: rgba(239,68,68,0.06); border-radius:8px; border: 1px solid rgba(239,68,68,0.2); backdrop-filter:blur(8px);"></div>
            <div class="action-row">
                <button class="btn-new-pw" id="generate-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
                    <span id="generate-btn-text">New Password</span>
                </button>
                <button class="copy-btn-full" id="copy-btn-full">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    <span id="copy-btn-text">Copy Password</span>
                </button>
            </div>
            </div>
            <div class="tab-panel" id="panel-ai">
            <!-- AI mode -->
            <div class="section-label" id="ai-label">AI MODE</div>

            <div class="form-group">
                <label for="ai-input" id="ai-input-label">Describe what you need:</label>
                <textarea id="ai-input" placeholder="e.g. a password for my bank account that I can remember"></textarea>
            </div>

            <button class="ai-btn" id="ai-btn">Generate with AI</button>

            <div class="ai-security-note">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="12" y1="8" x2="12" y2="12"/><line x1="12" y1="16" x2="12.01" y2="16"/></svg>
                <span id="ai-security-note-text">Your prompt is sent to Cloudflare Workers AI to generate a suggestion. Don't include real passwords or sensitive data.</span>
            </div>

            <div class="ai-loading" id="ai-loading">Generating...</div>

            <div class="ai-result" id="ai-result">
                <div class="ai-password-line" id="ai-password"></div>
                <div class="ai-explanation" id="ai-explanation"></div>
                <button class="ai-copy-btn" id="ai-copy-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"/></svg>
                    <span id="ai-copy-btn-text">Copy Password</span>
                </button>
            </div>
            </div>


        </div>
        <div class="trust-strip">
            <div class="trust-inner">
                <div class="trust-item">
                    <span class="trust-title" id="trust-1-title">Browser-Only</span>
                    <span class="trust-sub" id="trust-1-sub">Zero server contact</span>
                </div>
                <div class="trust-item">
                    <span class="trust-title" id="trust-2-title">No Account</span>
                    <span class="trust-sub" id="trust-2-sub">100% free</span>
                </div>
                <div class="trust-item">
                    <span class="trust-title" id="trust-3-title">AI-Powered</span>
                    <span class="trust-sub" id="trust-3-sub">Natural language mode</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Session history panel -->
    <div class="history-wrap">
        <details class="history-details" id="history-details">
            <summary>
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
                <span id="history-title">Recent (this session)</span>
                <span class="history-count" id="history-count" style="display:none">0</span>
                <span class="hist-chevron">▾</span>
            </summary>
            <div class="history-list" id="history-list">
                <div class="history-empty" id="history-empty">No passwords generated yet</div>
            </div>
            <button class="history-clear-btn" id="history-clear-btn" title="Clear history">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><polyline points="3 6 5 6 21 6"/><path d="M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"/><path d="M10 11v6"/><path d="M14 11v6"/><path d="M9 6V4h6v2"/></svg>
                Clear history
            </button>
        </details>
    </div>
    </section>

    <section class="features-section">
        <div class="section-center">
            <span class="section-eyebrow" id="feat-eyebrow">Why pwasecurity</span>
            <h2 class="section-title" id="feat-title">Built for security, designed for everyone</h2>
            <p class="section-sub" id="feat-sub">No sign-ups, no servers, no tracking. Just fast, strong passwords generated right in your browser.</p>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon fi-blue">
                        <svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <rect x="3" y="11" width="18" height="11" rx="2"/>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                        </svg>
                    </div>
                    <div class="feature-title" id="f1-title">Completely Private</div>
                    <p class="feature-body" id="f1-body">All generation happens in your browser. Your passwords never touch our servers — because we don't have any.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon fi-green">
                        <svg viewBox="0 0 24 24" fill="none" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
                        </svg>
                    </div>
                    <div class="feature-title" id="f2-title">Real-Time Strength Analysis</div>
                    <p class="feature-body" id="f2-body">Instantly see how strong your password is with our live entropy meter as you adjust length and character sets.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon fi-purple">
                        <svg viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <polygon points="12 2 2 7 12 22 22 7 12 2"/>
                            <line x1="12" y1="22" x2="12" y2="7"/>
                            <polyline points="2 7 12 12 22 7"/>
                        </svg>
                    </div>
                    <div class="feature-title" id="f3-title">AI-Tailored Passwords</div>
                    <p class="feature-body" id="f3-body">Describe what you need in plain English and our AI will craft a password that fits your exact requirements.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- ── PASSWORD SECURITY GUIDE ── -->
    <section class="guide-section">
        <div class="section-center">
            <span class="section-eyebrow">Password Security Fundamentals</span>
            <h2 class="section-title">What makes a password truly secure?</h2>
            <p class="section-sub">Understanding the science behind strong credentials helps you make smarter decisions — not just for this tool, but for every account you own.</p>
            <div class="guide-blocks">

                <details class="guide-block" open data-num="01">
                    <summary class="guide-block-summary">
                        <div class="guide-block-icon gi-amber">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#f59e0b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                <line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/>
                            </svg>
                        </div>
                        <div class="guide-block-title">The cost of a weak password</div>
                    </summary>
                    <p class="guide-block-body">Over 15 billion stolen credentials are currently circulating in breach databases online. Attackers run automated scripts — called credential stuffing — that test leaked username/password pairs against hundreds of services in seconds. If you reuse a password from any breached site, every other account sharing that password is effectively compromised. A weak or reused password is not just a minor risk; it is an open door.</p>
                </details>

                <details class="guide-block" open data-num="02">
                    <summary class="guide-block-summary">
                        <div class="guide-block-icon gi-blue">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <rect x="3" y="11" width="18" height="11" rx="2"/>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                            </svg>
                        </div>
                        <div class="guide-block-title">Anatomy of a strong password</div>
                    </summary>
                    <p class="guide-block-body">Length beats complexity every time. A 20-character lowercase passphrase is exponentially harder to crack than an 8-character mix of symbols. What matters most is entropy — the number of possible combinations an attacker must try. Each additional character multiplies the search space. Aim for at least 16 characters; use uppercase, lowercase, digits, and symbols when the site allows them; and never include predictable patterns like your name, birth year, or "123".</p>
                </details>

                <details class="guide-block" open data-num="03">
                    <summary class="guide-block-summary">
                        <div class="guide-block-icon gi-purple">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polygon points="12 2 2 7 12 22 22 7 12 2"/>
                                <line x1="12" y1="22" x2="12" y2="7"/>
                                <polyline points="2 7 12 12 22 7"/>
                            </svg>
                        </div>
                        <div class="guide-block-title">Passphrases vs random strings</div>
                    </summary>
                    <p class="guide-block-body">A random 16-character string like <code style="font-size:11px;color:var(--text-3)">xK7!mP2#qL9$wR4@</code> is extremely secure but nearly impossible to memorise. A four-word passphrase like <code style="font-size:11px;color:var(--text-3)">correct-horse-battery-staple</code> is just as strong (over 44 bits of entropy) yet far easier to remember. Use a random password for accounts stored in a password manager, and a passphrase for anything you need to type from memory — like your manager's master password or your device login.</p>
                </details>

                <details class="guide-block" open data-num="04">
                    <summary class="guide-block-summary">
                        <div class="guide-block-icon gi-green">
                            <svg viewBox="0 0 24 24" fill="none" stroke="#22c55e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <polyline points="9 11 12 14 22 4"/>
                                <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"/>
                            </svg>
                        </div>
                        <div class="guide-block-title">The golden rules</div>
                    </summary>
                    <p class="guide-block-body">Following these five habits eliminates the vast majority of password-related account takeovers:</p>
                    <ul class="guide-rules">
                        <li>Use a unique password for every account — no reuse, ever</li>
                        <li>Make passwords at least 16 characters long</li>
                        <li>Store them in a reputable password manager (Bitwarden, 1Password)</li>
                        <li>Enable two-factor authentication (2FA) wherever possible</li>
                        <li>Never share passwords via chat, email, or SMS</li>
                    </ul>
                </details>

            </div>
        </div>
    </section>

    <!-- ── ARTICLES SECTION ── -->
    <section class="articles-section">
        <div class="section-center">
            <span class="section-eyebrow">From the Blog</span>
            <h2 class="section-title">Security guides worth reading</h2>
            <p class="section-sub">Practical, no-fluff articles on staying secure in an age of AI, data breaches, and constant credential theft.</p>

            <div class="articles-layout">

                <!-- Featured -->
                <a class="article-featured" href="/memorize-passwords.html">
                    <div class="article-featured-meta">
                        <span class="article-badge badge-category">Memory &amp; Security</span>
                        <span class="article-featured-time">~6 min read</span>
                    </div>
                    <div class="article-featured-title">How to Memorize Strong Passwords Without Sacrificing Security</div>
                    <p class="article-featured-excerpt">Strong passwords don't have to be forgettable. Learn passphrases, memory palace techniques, and spaced repetition to retain genuinely secure credentials for the accounts that matter most.</p>
                    <span class="article-featured-cta">Read article →</span>
                </a>

                <!-- List -->
                <div class="articles-list">
                    <a class="article-row" href="/ai-prompt-security.html">
                        <span class="article-badge" style="background:rgba(167,139,250,0.15);color:var(--purple);flex-shrink:0;">AI Safety</span>
                        <span class="article-row-title">AI Prompt Security: What You Should Never Share With an AI</span>
                        <span class="article-row-meta">~6 min</span>
                        <span class="article-row-arrow">→</span>
                    </a>
                    <a class="article-row" href="/password-reuse.html">
                        <span class="article-badge" style="background:rgba(248,113,113,0.15);color:var(--red);flex-shrink:0;">Threat Basics</span>
                        <span class="article-row-title">The One Password Mistake That Breaks Everything: Reuse</span>
                        <span class="article-row-meta">~5 min</span>
                        <span class="article-row-arrow">→</span>
                    </a>
                    <a class="article-row" href="/password-length-2026.html">
                        <span class="article-badge" style="background:rgba(52,208,104,0.15);color:var(--green);flex-shrink:0;">Password Basics</span>
                        <span class="article-row-title">How Long Should a Password Be in 2026?</span>
                        <span class="article-row-meta">~5 min</span>
                        <span class="article-row-arrow">→</span>
                    </a>
                    <a class="article-row" href="/password-hall-of-shame.html">
                        <span class="article-badge" style="background:rgba(251,191,36,0.15);color:var(--amber);flex-shrink:0;">Case Studies</span>
                        <span class="article-row-title">Password Hall of Shame: Real Weak Passwords in Real Systems</span>
                        <span class="article-row-meta">~7 min</span>
                        <span class="article-row-arrow">→</span>
                    </a>
                </div>

            </div>
        </div>
    </section>

    <section class="faq-section">
        <div class="section-center">
            <div class="faq-header">
                <span class="section-eyebrow" id="faq-eyebrow">FAQ</span>
                <h2 class="section-title" id="faq-title">Common questions</h2>
                <p class="section-sub" style="margin-bottom:0">Everything you need to know about secure password generation, entropy, passphrases, and more.</p>
            </div>
            <div class="faq-list">
                <details class="faq-item">
                    <summary id="faq-1-q">Is this password generator truly secure?</summary>
                    <p class="faq-answer" id="faq-1-a">Yes. All passwords are generated using the Web Crypto API directly in your browser. No data is ever sent to a server, and the randomness is cryptographically strong.</p>
                </details>
                <details class="faq-item">
                    <summary id="faq-2-q">Does AI Mode store my prompts or passwords?</summary>
                    <p class="faq-answer" id="faq-2-a">No. Your AI prompts are sent only to the Cloudflare Workers AI endpoint to generate a response. Nothing is logged or stored on our end.</p>
                </details>
                <details class="faq-item">
                    <summary id="faq-3-q">How long should my password be?</summary>
                    <p class="faq-answer" id="faq-3-a">For most accounts, 16+ characters with a mix of uppercase, lowercase, numbers, and symbols is excellent. For high-value accounts like banking or email, aim for 20+ characters.</p>
                </details>
                <details class="faq-item">
                    <summary id="faq-4-q">Why use a passphrase instead of a random password?</summary>
                    <p class="faq-answer" id="faq-4-a">Passphrases are longer and easier to remember while still being very secure. Use AI Mode to generate a memorable passphrase tailored to your context.</p>
                </details>
                <details class="faq-item">
                    <summary>What is the difference between a passphrase and a random password?</summary>
                    <p class="faq-answer">A random password is a short, dense string of mixed characters (e.g. <code style="font-size:11px">xK7!mP2#</code>) designed to be stored in a password manager. A passphrase is a sequence of common words (e.g. <code style="font-size:11px">lamp-cloud-river-stone</code>) that is longer, easier to type, and still carries high entropy. Both approaches are secure when generated properly; the choice depends on whether you need to memorise the credential or rely on a manager.</p>
                </details>
                <details class="faq-item">
                    <summary>Can I use the same password on multiple sites?</summary>
                    <p class="faq-answer">No — and this is one of the most important rules in password security. When any service suffers a data breach, attackers immediately test the leaked credentials against thousands of other sites automatically. This attack is called credential stuffing. If you reuse a password, a single breach can cascade into dozens of compromised accounts. Use a unique, randomly generated password for every service, and let a password manager handle the storage.</p>
                </details>
                <details class="faq-item">
                    <summary>What is entropy and why does it matter for passwords?</summary>
                    <p class="faq-answer">Entropy, measured in bits, quantifies how unpredictable a password is. The higher the entropy, the more guesses an attacker must make to crack it. A random lowercase letter adds about 4.7 bits; adding uppercase, digits, and symbols to a 16-character password can reach 100+ bits — far beyond the reach of any current brute-force attack. The strength meter in this tool displays an entropy-based score so you can see the real security level of every password you generate.</p>
                </details>
                <details class="faq-item">
                    <summary>What is a PIN and when should I use one instead of a password?</summary>
                    <p class="faq-answer">A PIN (Personal Identification Number) is a short numeric code typically used to unlock a physical device or card rather than an online account. PINs are secure in that context because hardware enforces a limited number of attempts (usually 3–10) before locking. For online accounts, a PIN alone is too short and too guessable — use a full password or passphrase instead. Use the PIN generator here for device lock screens, bank cards, or any scenario where a numeric-only code is required.</p>
                </details>
                <details class="faq-item">
                    <summary>How does AI Mode generate passwords — is it safe?</summary>
                    <p class="faq-answer">AI Mode sends your plain-English description to a Cloudflare Workers AI endpoint (running Meta's Llama model). The AI interprets your request and suggests a password structure; the actual password is returned to your browser and is never logged or stored on any server. Your prompt itself is ephemeral — Cloudflare does not retain it after the response is sent. If you are concerned about privacy, use the standard Random or Passphrase mode, which generates passwords entirely inside your browser with no network requests at all.</p>
                </details>
                <details class="faq-item">
                    <summary>Should I store my passwords in my browser?</summary>
                    <p class="faq-answer">Browser-saved passwords are convenient but carry real risks: they are accessible to anyone with physical access to your unlocked device, synced across devices in ways you may not fully control, and potentially exposed if your browser account is compromised. A dedicated password manager (such as Bitwarden, 1Password, or KeePass) encrypts your vault with a master password that only you know, and most offer secure sharing, breach monitoring, and cross-platform access. For anything beyond casual accounts, a dedicated manager is strongly recommended.</p>
                </details>
                <details class="faq-item">
                    <summary>What makes a password "weak" or easy to crack?</summary>
                    <p class="faq-answer">A password is considered weak if it is short (under 12 characters), uses predictable patterns (sequential numbers, keyboard walks like "qwerty"), contains personal information (name, birthday, pet), or appears in common password lists. Attackers use dictionary attacks that test millions of known passwords and their variations in seconds. A password like "Summer2024!" looks complex but would fall immediately because it follows a pattern that is well-represented in attack dictionaries. Always generate passwords randomly rather than inventing them yourself.</p>
                </details>
                <details class="faq-item">
                    <summary>How often should I change my passwords?</summary>
                    <p class="faq-answer">Modern security guidance (from NIST and other bodies) has moved away from mandatory periodic changes. Changing passwords on a fixed schedule often leads to weak, predictable variations ("Password1" → "Password2"). Instead, change a password immediately when: you suspect it has been compromised, the service notifies you of a breach, you shared it with someone who no longer needs access, or you detect suspicious login activity. Use a service like Have I Been Pwned to check whether your email appears in known breach databases.</p>
                </details>
            </div>
        </div>
    </section>

    <footer class="site-footer">
        <div class="footer-inner">
            <div class="footer-brand">
                <strong>Joël Moyal</strong>
                <span id="footer-tagline">A free password generator that runs entirely in your browser.</span>
                <p class="footer-builder-note">Started as a personal security project, then made it public.</p>
                <a href="https://github.com/JoelMoyal/Password-generator" target="_blank" rel="noopener" class="local-badge">
                    <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"/></svg>
                    Open source on GitHub
                </a>
            </div>
            <div class="footer-legal">
                <span>© 2026 pwasecurity · Joël Moyal</span>
                <a href="/privacy.html">Privacy Policy</a>
            </div>
            <div class="social-links">
                <a href="https://nl.linkedin.com/in/joel-moyal" target="_blank" class="social-link">
                    <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
                        <rect x="2" y="9" width="4" height="12"></rect>
                        <circle cx="4" cy="4" r="2"></circle>
                    </svg>
                    LinkedIn
                </a>
                <a href="https://github.com/joelmoyal" target="_blank" class="social-link">
                    <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path>
                    </svg>
                    GitHub
                </a>
                <a href="https://joelmoyal.com" target="_blank" class="social-link">
                    <svg class="social-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="10"></circle>
                        <line x1="2" y1="12" x2="22" y2="12"></line>
                        <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path>
                    </svg>
                    Portfolio
                </a>
            </div>
        </div>
    </footer>




    <script>
        // Curated ~430-word list for passphrase generation
        const WORDS = [
            'able','acid','aged','also','area','army','away','baby','back','ball','band','bank','barn','base',
            'bath','beam','bean','bear','beat','beef','bell','best','bill','bird','bite','blue','bold','bolt',
            'bond','bone','book','boom','born','bowl','burn','calm','camp','cane','card','care','cart','case',
            'cash','cast','cave','cell','chip','city','clan','clay','clip','club','coal','coat','code','coin',
            'cold','come','cone','cool','cord','core','corn','cost','crew','crop','cube','cure','dale','dark',
            'dart','data','date','dawn','deal','dear','deck','deep','deer','desk','disk','dock','dome','door',
            'dove','down','draw','drop','drum','duck','dune','dusk','dust','duty','earn','east','edge','epic',
            'even','exam','face','fact','fair','fall','fame','farm','fast','fate','feat','feel','fell','felt',
            'fern','file','fill','film','find','fire','fish','flag','flat','flip','flow','foam','fold','folk',
            'fond','food','foot','ford','form','fort','four','free','fuel','full','fund','fuse','gain','gate',
            'gaze','gear','gift','give','glad','glow','glue','goal','gold','gone','good','gown','grab','gray',
            'grew','grim','grip','grow','gulf','gust','half','hall','halt','hand','hang','hard','hare','haze',
            'head','heal','heat','heel','helm','help','here','hero','hide','high','hill','hint','hold','hole',
            'home','hood','hook','hope','horn','host','hour','huge','hull','hunt','hurt','idle','iris','iron',
            'isle','jade','jazz','jest','join','joke','jump','just','keen','keep','kick','kind','king','knee',
            'knew','lake','lamp','land','lane','lark','last','late','lead','leaf','lean','leap','left','lend',
            'lens','life','lift','lime','line','link','lion','list','live','load','lock','loft','lone','long',
            'look','loop','loss','loud','love','luck','lure','made','mane','mark','mast','maze','meal','mean',
            'meet','melt','mild','milk','mill','mine','mint','mist','mode','moon','more','moss','most','move',
            'much','muse','must','nail','near','neck','need','nest','next','nice','node','norm','note','oath',
            'open','oval','over','pace','pact','page','paid','palm','park','part','past','path','peak','pear',
            'peel','peer','pine','pipe','plan','play','plot','plow','pole','pool','port','pose','post','pour',
            'prey','prop','pull','pure','push','rail','rain','rake','ramp','rank','rare','read','real','reef',
            'rent','rest','rice','rich','ride','rise','risk','road','roam','roar','rock','role','roll','roof',
            'root','rope','rose','ruin','rule','rush','rust','safe','sage','sail','salt','same','sand','save',
            'seal','seam','seed','seek','seem','self','send','shed','ship','shoe','shop','shot','show','silk',
            'sing','sink','site','size','skip','slim','slow','snap','snow','soar','soil','sole','song','sort',
            'soul','span','spin','spot','star','stay','stem','step','stir','stop','surf','swan','swim','tail',
            'tale','talk','tall','tame','task','team','tear','tell','term','test','tide','till','time','tiny',
            'toll','tone','tool','town','trek','trim','true','tube','tune','turn','type','vale','vast','veil',
            'vein','view','vine','void','volt','wade','wake','walk','wall','wand','ward','warm','wave','wear',
            'well','west','wide','wild','will','wind','wing','wire','wish','wolf','wood','wool','word','work',
            'wrap','wren','yard','year','zeal','zero','zone','ache','acme','acre','aide','airy','aloe','alto',
            'apex','arch','arts','avid','axle','bale','bane','bard','bark','bask','bead','beak','beer','bees',
            'berg','bind','bins','blot','boar','bode','bogs','boon','boot','boss','bout','brag','brew','brim',
            'brow','bulb','bull','bunk','bush','buoy','byte','cage','calf','calm','cask','chad','clam','claw',
            'clog','clot','coil','comb','cope','cram','crest','curl','curt','dab','dank','darn','dash','daze',
            'deft','dice','dike','dill','dire','dove','drip','dump','dupe','earl','ease','echo','elan','elf',
            'elk','emu','etch','euro','evil','expo','fawn','fend','fife','fizz','flaw','flea','flex','floe',
            'flop','foal','fore','foxy','fray','frog','funk','fury','fuzz','gale','gall','gape','garb','gasp',
            'geld','gems','glee','glob','gore','gosh','gram','grin','groan','guise','guru','hack','hail','ham',
            'hasp','heft','hemp','herd','hive','hoax','hob','hock','hoof','howl','hub','hue','hulk','husk',
            'hymn','icon','imp','inch','ivy','jab','jag','jeer','jolt','jot','jowl','junk','kelp','kept','kern',
            'knack','knave','knob','knot','lame','lard','laud','lava','laze','leek','lemon','lever','limp',
            'lint','lore','lull','lunge','lure','lurk','lynx','mace','mare','mead','meek','mesa','mire','monk',
            'moat','molt','musk','myth','nave','newt','nook','nude','numb','nymph','opal','orb','orca','otter',
            'oven','page','pang','pave','pawn','pelt','petal','pike','pilot','plum','plume','pod','poll','pomp',
            'pond','pore','puff','pulp','puma','punt','pyre','quail','quartz','quest','quill','quirk','raft',
            'raze','reel','rein','rime','rind','robe','rook','rout','rube','ruby','rune','ruse','sage','sash',
            'scamp','scan','scone','scorn','scout','scowl','scythe','serf','shag','shard','shark','shin','shun',
            'sieve','silt','skew','skiff','skull','skunk','slate','sleet','slime','slug','smirk','smog','snag',
            'snare','sneak','snout','soak','sod','sop','spade','spark','spat','speck','spit','spoke','spore',
            'spout','sprig','spunk','spur','stag','stale','stalk','stash','stave','steel','steed','stench',
            'stern','stiff','sting','stink','stomp','stout','stove','straw','stray','strut','stub','stud',
            'stuff','stump','stung','swamp','sway','swept','swift','swine','swoop','sword','syrup','tabby',
            'tack','talon','tang','tart','taunt','tawny','teak','teal','temp','tempo','thorn','throb','thud',
            'thug','thyme','tick','tilt','toad','tome','tonic','totem','trace','tract','trap','trawl','tread',
            'trend','tress','tripe','trod','tromp','trout','truck','trump','trunk','truss','tuck','tuft','twig',
            'tyke','ulcer','umber','undo','urge','vale','vamp','vat','veil','venom','vent','verb','verge',
            'vicar','vigor','viper','visa','vise','vow','waft','wail','wasp','weld','whim','whip','whir','wick',
            'wisp','woe','woke','womb','wring','wrist','yak','yarn','yawn','yoke','yore','zest','zinc','zip'
        ];

        document.addEventListener('DOMContentLoaded', function () {
            const lengthInput = document.getElementById('length');
            const uppercaseCheckbox = document.getElementById('uppercase');
            const lowercaseCheckbox = document.getElementById('lowercase');
            const numbersCheckbox = document.getElementById('numbers');
            const symbolsCheckbox = document.getElementById('symbols');
            const noAmbiguousCheckbox = document.getElementById('no-ambiguous');
            const easySayCheckbox = document.getElementById('easy-say');
            const easySayNote = document.getElementById('easy-say-note');
            const ambiguous = new Set('0Ol1I|{}[]()\\/`\'"');
            const slider    = document.getElementById('length');
            const sliderBubble = document.getElementById('slider-bubble');
            const sliderVal = document.getElementById('length-val');
            const generateBtn = document.getElementById('generate-btn');
            const passwordDisplay = document.getElementById('password-display');
            const copyBtn = document.getElementById('copy-btn-full');
            const copyBtnText = document.getElementById('copy-btn-text');
            const strengthFill = document.getElementById('strength-fill');
            const strengthText = document.getElementById('strength-text');
            const langSelect = document.getElementById('lang-select');
            const aiBtn = document.getElementById('ai-btn');
            const aiInput = document.getElementById('ai-input');
            const aiResult = document.getElementById('ai-result');
            const aiPassword = document.getElementById('ai-password');
            const aiExplanation = document.getElementById('ai-explanation');
            const aiLoading = document.getElementById('ai-loading');

            let currentLang = 'en';
            let currentMode = 'random';
            let currentPinLen = 4;
            let currentPassword = '';
            const pwHistory = [];

            const uppercase = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercase = 'abcdefghijklmnopqrstuvwxyz';
            const numbers = '0123456789';
            const symbols = '!@#$%^&*()_+-=[]{}|;:,.<>?';

            function syncSlider() {
                const min = +slider.min, max = +slider.max, val = +slider.value;
                const pct = (val - min) / (max - min) * 100;
                slider.style.setProperty('--p', pct + '%');
                // Pop animation on sliderVal
                sliderVal.classList.remove('pop');
                void sliderVal.offsetWidth; // reflow
                sliderVal.classList.add('pop');
                sliderVal.textContent = val;
                // Position bubble
                const trackW = slider.getBoundingClientRect().width;
                const thumbW = 22;
                const leftPx = (pct / 100) * (trackW - thumbW) + thumbW / 2;
                sliderBubble.style.left = leftPx + 'px';
                sliderBubble.textContent = val;
            }
            slider.addEventListener('input', () => { syncSlider(); generatePassword(); });

            // Slider drag state
            const sliderWrap = document.getElementById('slider-wrap');
            slider.addEventListener('mousedown', () => sliderWrap.classList.add('dragging'));
            slider.addEventListener('touchstart', () => sliderWrap.classList.add('dragging'), { passive: true });
            window.addEventListener('mouseup', () => sliderWrap.classList.remove('dragging'));
            window.addEventListener('touchend', () => sliderWrap.classList.remove('dragging'));

            syncSlider();

            document.querySelectorAll('#uppercase,#lowercase,#numbers,#symbols,#no-ambiguous').forEach(cb => cb.addEventListener('change', generatePassword));

            function secureRandInt(max) {
                const buf = new Uint32Array(1);
                const limit = 0x100000000 - (0x100000000 % max);
                let val;
                do { crypto.getRandomValues(buf); val = buf[0]; } while (val >= limit);
                return val % max;
            }

            function generatePronounceable(length) {
                const V = ['a','e','i','o','u'];
                const C = ['b','c','d','f','g','h','j','k','m','n','p','r','s','t','v','w','y'];
                const syllables = [];
                while (syllables.join('').length < length) {
                    syllables.push(C[secureRandInt(C.length)] + V[secureRandInt(V.length)] + C[secureRandInt(C.length)]);
                }
                const num = String(secureRandInt(90) + 10);
                currentPassword = syllables.join('') + num;
                passwordDisplay.textContent = syllables.join('-') + '-' + num;
                document.getElementById('strength-track-wrap').style.display = '';
                updateStrengthMeter(currentPassword);
                addToHistory(currentPassword, 'pronounceable');
            }

            easySayCheckbox.addEventListener('change', function () {
                easySayNote.style.display = this.checked ? '' : 'none';
                if (this.checked && +slider.value < 20) { slider.value = 20; syncSlider(); }
                generatePassword();
            });

            function generatePassword() {
                if (easySayCheckbox.checked) { generatePronounceable(Math.max(+slider.value, 20)); return; }
                const length = +slider.value;

                if (!uppercaseCheckbox.checked && !lowercaseCheckbox.checked &&
                    !numbersCheckbox.checked && !symbolsCheckbox.checked) {
                    lowercaseCheckbox.checked = true;
                }

                const filterAmb = s => noAmbiguousCheckbox.checked ? s.split('').filter(c => !ambiguous.has(c)).join('') : s;
                const uc = filterAmb(uppercase), lc = filterAmb(lowercase), nm = filterAmb(numbers), sy = filterAmb(symbols);

                let chars = '';
                if (uppercaseCheckbox.checked) chars += uc;
                if (lowercaseCheckbox.checked) chars += lc;
                if (numbersCheckbox.checked) chars += nm;
                if (symbolsCheckbox.checked) chars += sy;
                if (!chars) { noAmbiguousCheckbox.checked = false; generatePassword(); return; }

                let password = '';
                if (uppercaseCheckbox.checked && uc) password += uc.charAt(secureRandInt(uc.length));
                if (lowercaseCheckbox.checked && lc) password += lc.charAt(secureRandInt(lc.length));
                if (numbersCheckbox.checked && nm) password += nm.charAt(secureRandInt(nm.length));
                if (symbolsCheckbox.checked && sy) password += sy.charAt(secureRandInt(sy.length));

                for (let i = password.length; i < length; i++) {
                    password += chars.charAt(secureRandInt(chars.length));
                }

                password = shuffleString(password);
                currentPassword = password;
                passwordDisplay.textContent = password;
                document.getElementById('strength-track-wrap').style.display = '';
                updateStrengthMeter(password);
                addToHistory(password, (+slider.value) + '-char password');
            }

            function shuffleString(string) {
                let array = string.split('');
                for (let i = array.length - 1; i > 0; i--) {
                    const j = secureRandInt(i + 1);
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array.join('');
            }

            // ── PASSPHRASE SLIDER ──
            const phraseSlider = document.getElementById('word-count');
            const phraseValEl  = document.getElementById('word-count-val');
            const phraseBubble = document.getElementById('phrase-bubble');
            const phraseWrap   = document.getElementById('phrase-slider-wrap');

            function syncPhraseSlider() {
                const min = +phraseSlider.min, max = +phraseSlider.max, val = +phraseSlider.value;
                const pct = (val - min) / (max - min) * 100;
                phraseSlider.style.setProperty('--p', pct + '%');
                phraseValEl.classList.remove('pop');
                void phraseValEl.offsetWidth;
                phraseValEl.classList.add('pop');
                phraseValEl.textContent = val;
                const trackW = phraseSlider.getBoundingClientRect().width;
                phraseBubble.style.left = ((pct / 100) * (trackW - 22) + 11) + 'px';
                phraseBubble.textContent = val;
            }
            phraseSlider.addEventListener('input', () => { syncPhraseSlider(); generatePassphrase(); });
            phraseSlider.addEventListener('mousedown', () => phraseWrap.classList.add('dragging'));
            phraseSlider.addEventListener('touchstart', () => phraseWrap.classList.add('dragging'), { passive: true });

            // ── PASSPHRASE GENERATOR ──
            function generatePassphrase() {
                const count = +phraseSlider.value;
                const sep   = document.getElementById('sep-select').value;
                const doCap = document.getElementById('phrase-capitalize').checked;
                const doNum = document.getElementById('phrase-append-num').checked;
                const words = Array.from({ length: count }, () => {
                    const w = WORDS[secureRandInt(WORDS.length)];
                    return doCap ? w[0].toUpperCase() + w.slice(1) : w;
                });
                if (doNum) words.push(String(secureRandInt(90) + 10));
                const phrase = words.join(sep);
                currentPassword = phrase;
                passwordDisplay.textContent = phrase;
                document.getElementById('strength-track-wrap').style.display = '';
                updatePhraseStrength(count, doNum);
                addToHistory(phrase, count + '-word passphrase');
            }

            function updatePhraseStrength(wordCount, hasNum) {
                const t = translations[currentLang];
                let entropy = wordCount * Math.log2(WORDS.length);
                if (hasNum) entropy += Math.log2(90);
                const score = Math.min(100, Math.max(0, (entropy - 28) / 62 * 100));
                let color, label;
                if (score < 25)      { color = '#ef4444'; label = t.strengthWeak; }
                else if (score < 50) { color = '#f59e0b'; label = t.strengthModerate; }
                else if (score < 75) { color = '#3b82f6'; label = t.strengthStrong; }
                else                 { color = '#22c55e'; label = t.strengthVeryStrong; }
                strengthFill.style.width  = score + '%';
                strengthFill.style.backgroundColor = color;
                strengthText.textContent  = label;
                strengthText.style.color  = color;
                document.getElementById('strength-warning').style.display = 'none';
            }

            document.getElementById('sep-select').addEventListener('change', generatePassphrase);
            document.getElementById('phrase-capitalize').addEventListener('change', generatePassphrase);
            document.getElementById('phrase-append-num').addEventListener('change', generatePassphrase);

            // ── PIN GENERATOR ──
            function generatePin() {
                const len = currentPinLen;
                let pin = '';
                for (let i = 0; i < len; i++) pin += secureRandInt(10);
                currentPassword = pin;
                // Space-group for readability (display only — copy uses raw)
                const fmt = pin.match(/.{1,3}/g).join('\u2009');
                passwordDisplay.textContent = fmt;
                // Hide strength bar, show combination count
                document.getElementById('strength-track-wrap').style.display = 'none';
                strengthText.textContent = '';
                document.getElementById('strength-warning').style.display = 'none';
                const combos = Math.pow(10, len).toLocaleString();
                document.getElementById('pin-info').textContent = len + '-digit PIN · ' + combos + ' combinations';
                addToHistory(pin, len + '-digit PIN');
            }

            document.querySelectorAll('.pin-len-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    currentPinLen = +btn.dataset.len;
                    document.querySelectorAll('.pin-len-btn').forEach(b => b.classList.toggle('active', b === btn));
                    generatePin();
                });
            });

            // ── MODE SWITCHER ──
            function setMode(mode) {
                currentMode = mode;
                document.querySelectorAll('.mode-btn').forEach(b =>
                    b.classList.toggle('active', b.dataset.mode === mode));
                document.querySelectorAll('.mode-panel').forEach(p =>
                    p.classList.toggle('active', p.id === 'mode-panel-' + mode));
                const t = translations[currentLang];
                if (mode === 'random') {
                    document.getElementById('generate-btn-text').textContent = t.newPasswordBtn;
                    document.getElementById('copy-btn-text').textContent = t.aiCopyBtn || 'Copy Password';
                    generatePassword();
                } else if (mode === 'passphrase') {
                    document.getElementById('generate-btn-text').textContent = t.newPhraseBtn || 'New Passphrase';
                    document.getElementById('copy-btn-text').textContent = t.copyPhraseBtn || 'Copy Passphrase';
                    syncPhraseSlider();
                    generatePassphrase();
                } else if (mode === 'pin') {
                    document.getElementById('generate-btn-text').textContent = t.newPinBtn || 'New PIN';
                    document.getElementById('copy-btn-text').textContent = t.copyPinBtn || 'Copy PIN';
                    generatePin();
                }
            }

            document.querySelectorAll('.mode-btn').forEach(btn =>
                btn.addEventListener('click', () => setMode(btn.dataset.mode)));

            // Override generate button to dispatch to correct mode
            generateBtn.removeEventListener('click', generatePassword);
            generateBtn.addEventListener('click', () => {
                if (currentMode === 'random') generatePassword();
                else if (currentMode === 'passphrase') generatePassphrase();
                else if (currentMode === 'pin') generatePin();
            });

            // ── HISTORY ──
            function escHtml(s) {
                return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;');
            }

            function addToHistory(password, label) {
                pwHistory.unshift({ password, label });
                if (pwHistory.length > 5) pwHistory.pop();
                renderHistory();
            }

            const SVG_EYE     = '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>';
            const SVG_EYE_OFF = '<svg width="13" height="13" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><line x1="1" y1="1" x2="23" y2="23"/></svg>';

            function renderHistory() {
                const list = document.getElementById('history-list');
                const countEl = document.getElementById('history-count');
                const t = translations[currentLang];
                if (pwHistory.length === 0) {
                    list.innerHTML = '<div class="history-empty">' + escHtml(t.historyEmpty || 'No passwords generated yet') + '</div>';
                    countEl.style.display = 'none';
                    return;
                }
                countEl.style.display = '';
                countEl.textContent = pwHistory.length;
                list.innerHTML = pwHistory.map((item, i) =>
                    '<div class="history-entry">' +
                    '<div class="history-pw" data-idx="' + i + '">' + escHtml(item.password) + '</div>' +
                    '<div class="history-meta">' + escHtml(item.label) + '</div>' +
                    '<button class="history-reveal-btn" data-idx="' + i + '" title="Show/hide">' + SVG_EYE + '</button>' +
                    '<button class="history-copy-btn" data-idx="' + i + '">' + escHtml(t.copyBtn || 'Copy') + '</button>' +
                    '</div>'
                ).join('');
                // Reveal toggle — click eye btn or the blurred text itself
                function toggleReveal(idx) {
                    const pwEl  = list.querySelector('.history-pw[data-idx="' + idx + '"]');
                    const eyeBtn = list.querySelector('.history-reveal-btn[data-idx="' + idx + '"]');
                    const revealed = pwEl.classList.toggle('revealed');
                    eyeBtn.innerHTML = revealed ? SVG_EYE_OFF : SVG_EYE;
                }
                list.querySelectorAll('.history-reveal-btn').forEach(btn =>
                    btn.addEventListener('click', () => toggleReveal(+btn.dataset.idx)));
                list.querySelectorAll('.history-pw').forEach(pwEl =>
                    pwEl.addEventListener('click', () => {
                        if (!pwEl.classList.contains('revealed')) toggleReveal(+pwEl.dataset.idx);
                    }));
                list.querySelectorAll('.history-copy-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const pwd = pwHistory[+btn.dataset.idx].password;
                        navigator.clipboard.writeText(pwd).then(() => {
                            btn.textContent = t.copied || 'Copied!';
                            setTimeout(() => { btn.textContent = t.copyBtn || 'Copy'; }, 1500);
                        }).catch(() => {
                            const ta = document.createElement('textarea');
                            ta.value = pwd; document.body.appendChild(ta); ta.select();
                            document.execCommand('copy'); document.body.removeChild(ta);
                            btn.textContent = t.copied || 'Copied!';
                            setTimeout(() => { btn.textContent = t.copyBtn || 'Copy'; }, 1500);
                        });
                    });
                });
            }

            document.getElementById('history-clear-btn').addEventListener('click', function (e) {
                e.stopPropagation();
                pwHistory.length = 0;
                renderHistory();
            });

            function getCopyBtnLabel() {
                const t = translations[currentLang];
                if (currentMode === 'passphrase') return t.copyPhraseBtn || 'Copy Passphrase';
                if (currentMode === 'pin') return t.copyPinBtn || 'Copy PIN';
                return t.aiCopyBtn || 'Copy Password';
            }

            copyBtn.addEventListener('click', function () {
                const pwd = currentPassword;
                if (!pwd) return;
                navigator.clipboard.writeText(pwd).then(function () {
                    copyBtn.style.background = 'var(--green)';
                    copyBtn.style.boxShadow = '0 4px 20px rgba(34,197,94,0.35)';
                    copyBtnText.textContent = translations[currentLang].copied || 'Copied!';
                    setTimeout(() => {
                        copyBtn.style.background = '';
                        copyBtn.style.boxShadow = '';
                        copyBtnText.textContent = getCopyBtnLabel();
                    }, 2000);
                }).catch(function () {
                    const textarea = document.createElement('textarea');
                    textarea.value = pwd;
                    document.body.appendChild(textarea);
                    textarea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textarea);
                    copyBtn.style.background = 'var(--green)';
                    copyBtnText.textContent = translations[currentLang].copied || 'Copied!';
                    setTimeout(() => {
                        copyBtn.style.background = '';
                        copyBtnText.textContent = getCopyBtnLabel();
                    }, 2000);
                });
            });

            function updateStrengthMeter(password) {
                if (!password) return;
                const t = translations[currentLang];

                // Determine effective charset size from characters present
                const hasUpper  = /[A-Z]/.test(password);
                const hasLower  = /[a-z]/.test(password);
                const hasNumber = /\d/.test(password);
                const hasSymbol = /[^A-Za-z0-9]/.test(password);
                let charsetSize = 0;
                if (hasUpper)  charsetSize += 26;
                if (hasLower)  charsetSize += 26;
                if (hasNumber) charsetSize += 10;
                if (hasSymbol) charsetSize += 32;
                if (charsetSize === 0) return;

                // Base entropy in bits
                let entropy = password.length * Math.log2(charsetSize);

                // Penalise repeated characters (>30% repeats)
                const counts = {};
                for (const c of password) counts[c] = (counts[c] || 0) + 1;
                const maxRepeat = Math.max(...Object.values(counts));
                if (maxRepeat / password.length > 0.3) entropy *= 0.75;

                // Penalise sequential runs (abc, 123, cba, 321)
                let seqPenalty = 0;
                for (let i = 0; i < password.length - 2; i++) {
                    const a = password.charCodeAt(i), b = password.charCodeAt(i+1), c = password.charCodeAt(i+2);
                    if ((b-a === 1 && c-b === 1) || (a-b === 1 && b-c === 1)) seqPenalty++;
                }
                if (seqPenalty > 0) entropy *= Math.max(0.5, 1 - seqPenalty * 0.08);

                // Map entropy to 0-100 score (28 bits = 0, 90 bits = 100)
                const score = Math.min(100, Math.max(0, (entropy - 28) / 62 * 100));

                let color, label;
                if (score < 25)       { color = '#ef4444'; label = t.strengthWeak; }
                else if (score < 50)  { color = '#f59e0b'; label = t.strengthModerate; }
                else if (score < 75)  { color = '#3b82f6'; label = t.strengthStrong; }
                else                  { color = '#22c55e'; label = t.strengthVeryStrong; }

                strengthFill.style.width = score + '%';
                strengthFill.style.backgroundColor = color;
                strengthText.textContent = label;
                strengthText.style.color = color;

                // Weak password warning
                const warning = document.getElementById('strength-warning');
                if (score < 25) {
                    warning.textContent = t.strengthWarning;
                    warning.style.display = 'block';
                } else {
                    warning.style.display = 'none';
                }
            }

            aiBtn.addEventListener('click', async function () {
                const description = aiInput.value.trim();
                if (!description) {
                    aiInput.focus();
                    return;
                }

                aiLoading.classList.add('visible');
                aiResult.classList.remove('visible');
                aiBtn.disabled = true;

                try {
                    const response = await fetch('/api/generate', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ description, lang: currentLang })
                    });

                    if (!response.ok) throw new Error('API error');

                    const data = await response.json();
                    const aiPwd = data.password || '';
                    currentPassword = aiPwd;
                    aiPassword.textContent = '> ' + aiPwd;
                    aiExplanation.textContent = data.explanation || '';
                    aiResult.classList.add('visible');
                    if (aiPwd) addToHistory(aiPwd, 'AI');
                } catch (err) {
                    aiPassword.textContent = '';
                    aiExplanation.textContent = translations[currentLang].aiError;
                    aiResult.classList.add('visible');
                } finally {
                    aiLoading.classList.remove('visible');
                    aiBtn.disabled = false;
                }
            });

            const translations = {
                en: {
                    title: 'AI Password Generator',
                    subtitle: 'Strong, unique passwords generated instantly in your browser. Nothing ever leaves your device.',
                    manualLabel: 'MANUAL MODE',
                    aiLabel: 'AI MODE',
                    lengthLabel: 'Password Length:',
                    includeLabel: 'Include:',
                    uppercaseLabel: 'Uppercase Letters (A-Z)',
                    lowercaseLabel: 'Lowercase Letters (a-z)',
                    numbersLabel: 'Numbers (0-9)',
                    symbolsLabel: 'Special Characters (!@#$%^&*)',
                    generateBtn: 'Generate Password',
                    copyBtn: 'Copy',
                    aiInputLabel: 'Describe what you need:',
                    aiPlaceholder: 'e.g. a password for my bank account that I can remember',
                    aiBtn: 'Generate with AI',
                    aiLoading: 'Generating...',
                    aiSecurityNote: 'Your prompt is sent to Cloudflare Workers AI to generate a suggestion. Don\'t include real passwords or sensitive data.',
                    strengthWeak: 'WEAK', strengthModerate: 'MODERATE', strengthStrong: 'STRONG', strengthVeryStrong: 'VERY STRONG',
                    aiError: '[ERROR] Could not reach AI. Make sure the Workers AI binding is enabled in Cloudflare Pages settings.',
                    trust1Title: 'Browser-Only', trust1Sub: 'Zero server contact',
                    trust2Title: 'No Account', trust2Sub: '100% free',
                    trust3Title: 'AI-Powered', trust3Sub: 'Natural language mode',
                    featEyebrow: 'Why pwasecurity', featTitle: 'Built for security, designed for everyone',
                    featSub: 'No sign-ups, no servers, no tracking. Just fast, strong passwords generated right in your browser.',
                    f1Title: 'Completely Private', f1Body: "All generation happens in your browser. Your passwords never touch our servers — because we don't have any.",
                    f2Title: 'Real-Time Strength Analysis', f2Body: 'Instantly see how strong your password is with our live entropy meter as you adjust length and character sets.',
                    f3Title: 'AI-Tailored Passwords', f3Body: 'Describe what you need in plain English and our AI will craft a password that fits your exact requirements.',
                    faqEyebrow: 'FAQ', faqTitle: 'Common questions',
                    faq1Q: 'Is this password generator truly secure?',
                    faq1A: 'Yes. All passwords are generated using the Web Crypto API directly in your browser. No data is ever sent to a server, and the randomness is cryptographically strong.',
                    faq2Q: 'Does AI Mode store my prompts or passwords?',
                    faq2A: 'No. Your AI prompts are sent only to the Cloudflare Workers AI endpoint to generate a response. Nothing is logged or stored on our end.',
                    faq3Q: 'How long should my password be?',
                    faq3A: 'For most accounts, 16+ characters with a mix of uppercase, lowercase, numbers, and symbols is excellent. For high-value accounts like banking or email, aim for 20+ characters.',
                    faq4Q: 'Why use a passphrase instead of a random password?',
                    faq4A: 'Passphrases are longer and easier to remember while still being very secure. Use AI Mode to generate a memorable passphrase tailored to your context.',
                    footerTagline: 'Free secure password generator',
                    newPasswordBtn: 'New Password',
                    aiCopyBtn: 'Copy Password', copied: 'Copied!',
                    noAmbiguousLabel: 'Exclude ambiguous (0Ol1I)',
                    strengthWarning: 'This password is too weak. Increase length or add more character types.',
                    modeRandom: 'Random', modePassphrase: 'Passphrase', modePin: 'PIN',
                    wordCountLabel: 'Word Count', separatorLabel: 'Separator',
                    capitalizeLabel: 'Capitalize', appendNumLabel: 'Add number',
                    pinLengthLabel: 'PIN Length',
                    historyTitle: 'Recent (this session)', historyEmpty: 'No passwords generated yet',
                    newPhraseBtn: 'New Passphrase', newPinBtn: 'New PIN',
                    copyPhraseBtn: 'Copy Passphrase', copyPinBtn: 'Copy PIN'
                },
                de: {
                    title: 'Sicherer Passwort-Generator',
                    subtitle: 'Starke, einzigartige Passwörter werden sofort in deinem Browser erstellt. Nichts verlässt jemals dein Gerät.',
                    manualLabel: 'MANUELLER MODUS',
                    aiLabel: 'KI-MODUS',
                    lengthLabel: 'Passwortlänge:',
                    includeLabel: 'Einschließen:',
                    uppercaseLabel: 'Großbuchstaben (A-Z)',
                    lowercaseLabel: 'Kleinbuchstaben (a-z)',
                    numbersLabel: 'Zahlen (0-9)',
                    symbolsLabel: 'Sonderzeichen (!@#$%^&*)',
                    generateBtn: 'Passwort generieren',
                    copyBtn: 'Kopieren',
                    aiInputLabel: 'Beschreibe, was du brauchst:',
                    aiPlaceholder: 'z.B. ein Passwort für mein Bankkonto, das ich mir merken kann',
                    aiBtn: 'Mit KI generieren',
                    aiLoading: 'Generiere...',
                    aiSecurityNote: 'Deine Beschreibung wird nur zur Passwortgenerierung verwendet und wird von der KI weder gespeichert noch gemerkt.',
                    strengthWeak: 'SCHWACH', strengthModerate: 'MITTEL', strengthStrong: 'STARK', strengthVeryStrong: 'SEHR STARK',
                    aiError: '[FEHLER] KI nicht erreichbar. Bitte Workers AI-Bindung in Cloudflare Pages aktivieren.',
                    trust1Title: 'Nur im Browser', trust1Sub: 'Kein Serverkontakt',
                    trust2Title: 'Kein Konto', trust2Sub: '100% kostenlos',
                    trust3Title: 'KI-gestützt', trust3Sub: 'Natürliche Sprache',
                    featEyebrow: 'Warum pwasecurity', featTitle: 'Für Sicherheit gebaut, für alle gestaltet',
                    featSub: 'Keine Anmeldung, keine Server, kein Tracking. Einfach schnelle, starke Passwörter direkt im Browser.',
                    f1Title: 'Vollständig privat', f1Body: 'Die gesamte Generierung findet in deinem Browser statt. Deine Passwörter berühren niemals unsere Server – weil wir keine haben.',
                    f2Title: 'Echtzeit-Stärkeanalyse', f2Body: 'Sieh sofort, wie stark dein Passwort ist – mit unserem Live-Entropie-Meter, während du Länge und Zeichensätze anpasst.',
                    f3Title: 'KI-optimierte Passwörter', f3Body: 'Beschreibe, was du brauchst, und unsere KI erstellt ein Passwort, das genau deinen Anforderungen entspricht.',
                    faqEyebrow: 'FAQ', faqTitle: 'Häufige Fragen',
                    faq1Q: 'Ist dieser Passwort-Generator wirklich sicher?',
                    faq1A: 'Ja. Alle Passwörter werden mit der Web Crypto API direkt in deinem Browser generiert. Es werden keine Daten an einen Server gesendet, und die Zufälligkeit ist kryptografisch stark.',
                    faq2Q: 'Speichert der KI-Modus meine Eingaben oder Passwörter?',
                    faq2A: 'Nein. Deine KI-Eingaben werden nur an den Cloudflare Workers AI-Endpunkt gesendet, um eine Antwort zu generieren. Auf unserer Seite wird nichts protokolliert oder gespeichert.',
                    faq3Q: 'Wie lang sollte mein Passwort sein?',
                    faq3A: 'Für die meisten Konten sind 16+ Zeichen mit einer Mischung aus Groß- und Kleinbuchstaben, Zahlen und Symbolen ausgezeichnet. Für wichtige Konten wie Banking oder E-Mail empfehlen sich 20+ Zeichen.',
                    faq4Q: 'Warum eine Passphrase statt eines zufälligen Passworts?',
                    faq4A: 'Passphrasen sind länger und leichter zu merken und trotzdem sehr sicher. Nutze den KI-Modus, um eine einprägsame Passphrase für deinen Kontext zu erstellen.',
                    footerTagline: 'Kostenloser sicherer Passwort-Generator',
                    newPasswordBtn: 'Neues Passwort',
                    aiCopyBtn: 'Passwort kopieren', copied: 'Kopiert!',
                    noAmbiguousLabel: 'Mehrdeutige Zeichen ausschließen (0Ol1I)',
                    strengthWarning: 'Dieses Passwort ist zu schwach. Erhöhe die Länge oder füge mehr Zeichentypen hinzu.',
                    modeRandom: 'Zufällig', modePassphrase: 'Passphrase', modePin: 'PIN',
                    wordCountLabel: 'Wortanzahl', separatorLabel: 'Trennzeichen',
                    capitalizeLabel: 'Großschreiben', appendNumLabel: 'Nummer anhängen',
                    pinLengthLabel: 'PIN-Länge',
                    historyTitle: 'Zuletzt (diese Sitzung)', historyEmpty: 'Noch kein Verlauf',
                    newPhraseBtn: 'Neue Passphrase', newPinBtn: 'Neue PIN',
                    copyPhraseBtn: 'Passphrase kopieren', copyPinBtn: 'PIN kopieren'
                },
                fr: {
                    title: 'Générateur de mots de passe sécurisé',
                    subtitle: 'Des mots de passe forts et uniques générés instantanément dans votre navigateur. Rien ne quitte jamais votre appareil.',
                    manualLabel: 'MODE MANUEL',
                    aiLabel: 'MODE IA',
                    lengthLabel: 'Longueur du mot de passe :',
                    includeLabel: 'Inclure :',
                    uppercaseLabel: 'Majuscules (A-Z)',
                    lowercaseLabel: 'Minuscules (a-z)',
                    numbersLabel: 'Chiffres (0-9)',
                    symbolsLabel: 'Caractères spéciaux (!@#$%^&*)',
                    generateBtn: 'Générer un mot de passe',
                    copyBtn: 'Copier',
                    aiInputLabel: 'Décrivez ce dont vous avez besoin :',
                    aiPlaceholder: 'ex. un mot de passe pour mon compte bancaire dont je peux me souvenir',
                    aiBtn: "Générer avec l'IA",
                    aiLoading: 'Génération...',
                    aiSecurityNote: "Votre description est utilisée uniquement pour générer le mot de passe et n'est jamais stockée ni mémorisée par l'IA.",
                    strengthWeak: 'FAIBLE', strengthModerate: 'MOYEN', strengthStrong: 'FORT', strengthVeryStrong: 'TRÈS FORT',
                    aiError: "[ERREUR] Impossible d'atteindre l'IA. Assurez-vous que la liaison Workers AI est activée dans les paramètres Cloudflare Pages.",
                    trust1Title: 'Navigateur uniquement', trust1Sub: 'Aucun contact serveur',
                    trust2Title: 'Sans compte', trust2Sub: '100% gratuit',
                    trust3Title: 'Propulsé par IA', trust3Sub: 'Langage naturel',
                    featEyebrow: 'Pourquoi pwasecurity', featTitle: 'Conçu pour la sécurité, pensé pour tous',
                    featSub: 'Sans inscription, sans serveur, sans tracking. Des mots de passe forts générés directement dans votre navigateur.',
                    f1Title: 'Totalement privé', f1Body: "Toute la génération se fait dans votre navigateur. Vos mots de passe ne touchent jamais nos serveurs — parce que nous n'en avons pas.",
                    f2Title: 'Analyse de force en temps réel', f2Body: 'Voyez instantanément la solidité de votre mot de passe grâce à notre compteur d\'entropie en direct.',
                    f3Title: 'Mots de passe adaptés par IA', f3Body: "Décrivez ce dont vous avez besoin et notre IA créera un mot de passe qui correspond exactement à vos exigences.",
                    faqEyebrow: 'FAQ', faqTitle: 'Questions fréquentes',
                    faq1Q: 'Ce générateur est-il vraiment sécurisé ?',
                    faq1A: 'Oui. Tous les mots de passe sont générés via l\'API Web Crypto directement dans votre navigateur. Aucune donnée n\'est envoyée à un serveur.',
                    faq2Q: 'Le mode IA stocke-t-il mes saisies ou mes mots de passe ?',
                    faq2A: 'Non. Vos saisies IA sont envoyées uniquement à l\'endpoint Cloudflare Workers AI. Rien n\'est enregistré de notre côté.',
                    faq3Q: 'Quelle longueur doit avoir mon mot de passe ?',
                    faq3A: 'Pour la plupart des comptes, 16+ caractères avec un mélange de majuscules, minuscules, chiffres et symboles est excellent. Pour les comptes importants, visez 20+ caractères.',
                    faq4Q: 'Pourquoi utiliser une phrase de passe ?',
                    faq4A: 'Les phrases de passe sont plus longues et plus faciles à retenir tout en étant très sécurisées. Utilisez le mode IA pour en générer une adaptée à votre contexte.',
                    footerTagline: 'Générateur de mots de passe gratuit et sécurisé',
                    newPasswordBtn: 'Nouveau mot de passe',
                    aiCopyBtn: 'Copier le mot de passe', copied: 'Copié !',
                    noAmbiguousLabel: 'Exclure les caractères ambigus (0Ol1I)',
                    strengthWarning: 'Ce mot de passe est trop faible. Augmentez la longueur ou ajoutez plus de types de caractères.',
                    modeRandom: 'Aléatoire', modePassphrase: 'Phrase secrète', modePin: 'PIN',
                    wordCountLabel: 'Nombre de mots', separatorLabel: 'Séparateur',
                    capitalizeLabel: 'Majuscules', appendNumLabel: 'Ajouter un chiffre',
                    pinLengthLabel: 'Longueur du PIN',
                    historyTitle: 'Récent (cette session)', historyEmpty: 'Pas encore d\'historique',
                    newPhraseBtn: 'Nouvelle phrase secrète', newPinBtn: 'Nouveau PIN',
                    copyPhraseBtn: 'Copier la phrase', copyPinBtn: 'Copier le PIN'
                },
                es: {
                    title: 'Generador de contraseñas seguro',
                    subtitle: 'Contraseñas fuertes y únicas generadas instantáneamente en tu navegador. Nada sale nunca de tu dispositivo.',
                    manualLabel: 'MODO MANUAL',
                    aiLabel: 'MODO IA',
                    lengthLabel: 'Longitud de la contraseña:',
                    includeLabel: 'Incluir:',
                    uppercaseLabel: 'Letras mayúsculas (A-Z)',
                    lowercaseLabel: 'Letras minúsculas (a-z)',
                    numbersLabel: 'Números (0-9)',
                    symbolsLabel: 'Caracteres especiales (!@#$%^&*)',
                    generateBtn: 'Generar contraseña',
                    copyBtn: 'Copiar',
                    aiInputLabel: 'Describe lo que necesitas:',
                    aiPlaceholder: 'ej. una contraseña para mi cuenta bancaria que pueda recordar',
                    aiBtn: 'Generar con IA',
                    aiLoading: 'Generando...',
                    aiSecurityNote: 'Tu descripción se usa solo para generar la contraseña y nunca es almacenada ni memorizada por la IA.',
                    strengthWeak: 'DÉBIL', strengthModerate: 'MODERADA', strengthStrong: 'FUERTE', strengthVeryStrong: 'MUY FUERTE',
                    aiError: '[ERROR] No se pudo conectar con la IA. Asegúrate de que el binding de Workers AI esté habilitado en la configuración de Cloudflare Pages.',
                    trust1Title: 'Solo navegador', trust1Sub: 'Sin contacto con servidor',
                    trust2Title: 'Sin cuenta', trust2Sub: '100% gratis',
                    trust3Title: 'Potenciado por IA', trust3Sub: 'Lenguaje natural',
                    featEyebrow: 'Por qué pwasecurity', featTitle: 'Construido para la seguridad, diseñado para todos',
                    featSub: 'Sin registros, sin servidores, sin rastreo. Contraseñas fuertes generadas directamente en tu navegador.',
                    f1Title: 'Completamente privado', f1Body: 'Toda la generación ocurre en tu navegador. Tus contraseñas nunca tocan nuestros servidores — porque no tenemos ninguno.',
                    f2Title: 'Análisis de fuerza en tiempo real', f2Body: 'Ve al instante qué tan fuerte es tu contraseña con nuestro medidor de entropía en vivo.',
                    f3Title: 'Contraseñas adaptadas por IA', f3Body: 'Describe lo que necesitas y nuestra IA creará una contraseña que se adapte exactamente a tus requisitos.',
                    faqEyebrow: 'FAQ', faqTitle: 'Preguntas frecuentes',
                    faq1Q: '¿Es realmente seguro este generador?',
                    faq1A: 'Sí. Todas las contraseñas se generan usando la Web Crypto API directamente en tu navegador. Ningún dato se envía a un servidor.',
                    faq2Q: '¿El modo IA almacena mis entradas o contraseñas?',
                    faq2A: 'No. Tus entradas de IA se envían solo al endpoint de Cloudflare Workers AI. Nada se registra ni almacena de nuestra parte.',
                    faq3Q: '¿Qué longitud debe tener mi contraseña?',
                    faq3A: 'Para la mayoría de cuentas, 16+ caracteres con mayúsculas, minúsculas, números y símbolos es excelente. Para cuentas importantes como banco o email, apunta a 20+ caracteres.',
                    faq4Q: '¿Por qué usar una frase de contraseña?',
                    faq4A: 'Las frases de contraseña son más largas y fáciles de recordar siendo muy seguras. Usa el modo IA para generar una memorable adaptada a tu contexto.',
                    footerTagline: 'Generador de contraseñas seguro y gratuito',
                    newPasswordBtn: 'Nueva contraseña',
                    aiCopyBtn: 'Copiar contraseña', copied: '¡Copiado!',
                    noAmbiguousLabel: 'Excluir ambiguos (0Ol1I)',
                    strengthWarning: 'Esta contraseña es demasiado débil. Aumenta la longitud o añade más tipos de caracteres.',
                    modeRandom: 'Aleatorio', modePassphrase: 'Frase clave', modePin: 'PIN',
                    wordCountLabel: 'Número de palabras', separatorLabel: 'Separador',
                    capitalizeLabel: 'Capitalizar', appendNumLabel: 'Añadir número',
                    pinLengthLabel: 'Longitud del PIN',
                    historyTitle: 'Reciente (esta sesión)', historyEmpty: 'Sin historial aún',
                    newPhraseBtn: 'Nueva frase clave', newPinBtn: 'Nuevo PIN',
                    copyPhraseBtn: 'Copiar frase', copyPinBtn: 'Copiar PIN'
                },
                it: {
                    title: 'Generatore di password sicure',
                    subtitle: 'Password forti e uniche generate istantaneamente nel tuo browser. Nulla lascia mai il tuo dispositivo.',
                    manualLabel: 'MODALITÀ MANUALE',
                    aiLabel: 'MODALITÀ IA',
                    lengthLabel: 'Lunghezza password:',
                    includeLabel: 'Includi:',
                    uppercaseLabel: 'Lettere maiuscole (A-Z)',
                    lowercaseLabel: 'Lettere minuscole (a-z)',
                    numbersLabel: 'Numeri (0-9)',
                    symbolsLabel: 'Caratteri speciali (!@#$%^&*)',
                    generateBtn: 'Genera password',
                    copyBtn: 'Copia',
                    aiInputLabel: 'Descrivi di cosa hai bisogno:',
                    aiPlaceholder: 'es. una password per il mio conto bancario che posso ricordare',
                    aiBtn: 'Genera con IA',
                    aiLoading: 'Generazione...',
                    aiSecurityNote: "La tua descrizione viene usata solo per generare la password e non viene mai memorizzata dall'IA.",
                    strengthWeak: 'DEBOLE', strengthModerate: 'MODERATA', strengthStrong: 'FORTE', strengthVeryStrong: 'MOLTO FORTE',
                    aiError: "[ERRORE] Impossibile raggiungere l'IA. Assicurati che il binding Workers AI sia abilitato nelle impostazioni di Cloudflare Pages.",
                    trust1Title: 'Solo browser', trust1Sub: 'Nessun contatto server',
                    trust2Title: 'Nessun account', trust2Sub: '100% gratuito',
                    trust3Title: 'Potenziato da IA', trust3Sub: 'Linguaggio naturale',
                    featEyebrow: 'Perché pwasecurity', featTitle: 'Costruito per la sicurezza, progettato per tutti',
                    featSub: 'Nessuna registrazione, nessun server, nessun tracking. Password forti generate direttamente nel tuo browser.',
                    f1Title: 'Completamente privato', f1Body: "Tutta la generazione avviene nel tuo browser. Le tue password non toccano mai i nostri server — perché non ne abbiamo.",
                    f2Title: 'Analisi della forza in tempo reale', f2Body: 'Vedi istantaneamente quanto è forte la tua password con il nostro misuratore di entropia in diretta.',
                    f3Title: 'Password personalizzate dall\'IA', f3Body: 'Descrivi di cosa hai bisogno e la nostra IA creerà una password che soddisfa esattamente le tue esigenze.',
                    faqEyebrow: 'FAQ', faqTitle: 'Domande frequenti',
                    faq1Q: 'Questo generatore è davvero sicuro?',
                    faq1A: 'Sì. Tutte le password vengono generate tramite la Web Crypto API direttamente nel tuo browser. Nessun dato viene mai inviato a un server.',
                    faq2Q: 'La modalità IA memorizza i miei prompt o password?',
                    faq2A: "No. I tuoi prompt IA vengono inviati solo all'endpoint Cloudflare Workers AI. Nulla viene registrato o memorizzato da parte nostra.",
                    faq3Q: 'Quanto deve essere lunga la mia password?',
                    faq3A: 'Per la maggior parte degli account, 16+ caratteri con maiuscole, minuscole, numeri e simboli è eccellente. Per account importanti come banca o email, punta a 20+ caratteri.',
                    faq4Q: 'Perché usare una passphrase?',
                    faq4A: 'Le passphrase sono più lunghe e facili da ricordare pur essendo molto sicure. Usa la modalità IA per generarne una memorabile adatta al tuo contesto.',
                    footerTagline: 'Generatore di password sicuro e gratuito',
                    newPasswordBtn: 'Nuova password',
                    aiCopyBtn: 'Copia password', copied: 'Copiato!',
                    noAmbiguousLabel: 'Escludi ambigui (0Ol1I)',
                    strengthWarning: 'Questa password è troppo debole. Aumenta la lunghezza o aggiungi più tipi di caratteri.',
                    modeRandom: 'Casuale', modePassphrase: 'Passphrase', modePin: 'PIN',
                    wordCountLabel: 'Numero di parole', separatorLabel: 'Separatore',
                    capitalizeLabel: 'Capitalizza', appendNumLabel: 'Aggiungi numero',
                    pinLengthLabel: 'Lunghezza PIN',
                    historyTitle: 'Recente (questa sessione)', historyEmpty: 'Nessuna cronologia',
                    newPhraseBtn: 'Nuova passphrase', newPinBtn: 'Nuovo PIN',
                    copyPhraseBtn: 'Copia passphrase', copyPinBtn: 'Copia PIN'
                },
                pt: {
                    title: 'Gerador de senhas seguro',
                    subtitle: 'Senhas fortes e únicas geradas instantaneamente no seu navegador. Nada nunca sai do seu dispositivo.',
                    manualLabel: 'MODO MANUAL',
                    aiLabel: 'MODO IA',
                    lengthLabel: 'Comprimento da senha:',
                    includeLabel: 'Incluir:',
                    uppercaseLabel: 'Letras maiúsculas (A-Z)',
                    lowercaseLabel: 'Letras minúsculas (a-z)',
                    numbersLabel: 'Números (0-9)',
                    symbolsLabel: 'Caracteres especiais (!@#$%^&*)',
                    generateBtn: 'Gerar senha',
                    copyBtn: 'Copiar',
                    aiInputLabel: 'Descreva o que você precisa:',
                    aiPlaceholder: 'ex. uma senha para minha conta bancária que eu possa lembrar',
                    aiBtn: 'Gerar com IA',
                    aiLoading: 'Gerando...',
                    aiSecurityNote: 'Sua descrição é usada apenas para gerar a senha e nunca é armazenada ou memorizada pela IA.',
                    strengthWeak: 'FRACA', strengthModerate: 'MODERADA', strengthStrong: 'FORTE', strengthVeryStrong: 'MUITO FORTE',
                    aiError: '[ERRO] Não foi possível alcançar a IA. Certifique-se de que o binding Workers AI está habilitado nas configurações do Cloudflare Pages.',
                    trust1Title: 'Só no navegador', trust1Sub: 'Sem contato com servidor',
                    trust2Title: 'Sem conta', trust2Sub: '100% grátis',
                    trust3Title: 'Impulsionado por IA', trust3Sub: 'Linguagem natural',
                    featEyebrow: 'Por que pwasecurity', featTitle: 'Construído para segurança, projetado para todos',
                    featSub: 'Sem cadastros, sem servidores, sem rastreamento. Senhas fortes geradas diretamente no seu navegador.',
                    f1Title: 'Completamente privado', f1Body: 'Toda a geração acontece no seu navegador. Suas senhas nunca tocam nossos servidores — porque não temos nenhum.',
                    f2Title: 'Análise de força em tempo real', f2Body: 'Veja instantaneamente a força da sua senha com nosso medidor de entropia ao vivo.',
                    f3Title: 'Senhas personalizadas por IA', f3Body: 'Descreva o que você precisa e nossa IA criará uma senha que atende exatamente aos seus requisitos.',
                    faqEyebrow: 'FAQ', faqTitle: 'Perguntas frequentes',
                    faq1Q: 'Este gerador é realmente seguro?',
                    faq1A: 'Sim. Todas as senhas são geradas usando a Web Crypto API diretamente no seu navegador. Nenhum dado é enviado para um servidor.',
                    faq2Q: 'O modo IA armazena meus prompts ou senhas?',
                    faq2A: 'Não. Seus prompts de IA são enviados apenas para o endpoint do Cloudflare Workers AI. Nada é registrado ou armazenado do nosso lado.',
                    faq3Q: 'Qual deve ser o comprimento da minha senha?',
                    faq3A: 'Para a maioria das contas, 16+ caracteres com maiúsculas, minúsculas, números e símbolos é excelente. Para contas importantes como banco ou e-mail, use 20+ caracteres.',
                    faq4Q: 'Por que usar uma frase de senha?',
                    faq4A: 'Frases de senha são mais longas e fáceis de lembrar e ainda muito seguras. Use o modo IA para gerar uma memorável adaptada ao seu contexto.',
                    footerTagline: 'Gerador de senhas seguro e gratuito',
                    newPasswordBtn: 'Nova senha',
                    aiCopyBtn: 'Copiar senha', copied: 'Copiado!',
                    noAmbiguousLabel: 'Excluir ambíguos (0Ol1I)',
                    strengthWarning: 'Esta senha é muito fraca. Aumente o comprimento ou adicione mais tipos de caracteres.',
                    modeRandom: 'Aleatória', modePassphrase: 'Frase secreta', modePin: 'PIN',
                    wordCountLabel: 'Número de palavras', separatorLabel: 'Separador',
                    capitalizeLabel: 'Capitalizar', appendNumLabel: 'Adicionar número',
                    pinLengthLabel: 'Comprimento do PIN',
                    historyTitle: 'Recente (esta sessão)', historyEmpty: 'Sem histórico ainda',
                    newPhraseBtn: 'Nova frase secreta', newPinBtn: 'Novo PIN',
                    copyPhraseBtn: 'Copiar frase', copyPinBtn: 'Copiar PIN'
                },
                nl: {
                    title: 'Veilige wachtwoordgenerator',
                    subtitle: 'Sterke, unieke wachtwoorden direct gegenereerd in uw browser. Niets verlaat ooit uw apparaat.',
                    manualLabel: 'HANDMATIGE MODUS',
                    aiLabel: 'AI-MODUS',
                    lengthLabel: 'Wachtwoordlengte:',
                    includeLabel: 'Inclusief:',
                    uppercaseLabel: 'Hoofdletters (A-Z)',
                    lowercaseLabel: 'Kleine letters (a-z)',
                    numbersLabel: 'Cijfers (0-9)',
                    symbolsLabel: 'Speciale tekens (!@#$%^&*)',
                    generateBtn: 'Wachtwoord genereren',
                    copyBtn: 'Kopiëren',
                    aiInputLabel: 'Beschrijf wat je nodig hebt:',
                    aiPlaceholder: 'bijv. een wachtwoord voor mijn bankrekening dat ik kan onthouden',
                    aiBtn: 'Genereren met AI',
                    aiLoading: 'Genereren...',
                    aiSecurityNote: 'Uw beschrijving wordt alleen gebruikt om het wachtwoord te genereren en wordt nooit opgeslagen of onthouden door de AI.',
                    strengthWeak: 'ZWAK', strengthModerate: 'MATIG', strengthStrong: 'STERK', strengthVeryStrong: 'ZEER STERK',
                    aiError: '[FOUT] Kan de AI niet bereiken. Zorg ervoor dat de Workers AI-binding is ingeschakeld in de Cloudflare Pages-instellingen.',
                    trust1Title: 'Alleen browser', trust1Sub: 'Geen servercontact',
                    trust2Title: 'Geen account', trust2Sub: '100% gratis',
                    trust3Title: 'AI-gestuurd', trust3Sub: 'Natuurlijke taal',
                    featEyebrow: 'Waarom pwasecurity', featTitle: 'Gebouwd voor veiligheid, ontworpen voor iedereen',
                    featSub: 'Geen aanmeldingen, geen servers, geen tracking. Sterke wachtwoorden gegenereerd in uw browser.',
                    f1Title: 'Volledig privé', f1Body: 'Alle generatie vindt plaats in uw browser. Uw wachtwoorden raken onze servers nooit aan — omdat we er geen hebben.',
                    f2Title: 'Realtime sterkte-analyse', f2Body: 'Zie direct hoe sterk uw wachtwoord is met onze live entropieméter terwijl u de instellingen aanpast.',
                    f3Title: 'AI-aangepaste wachtwoorden', f3Body: 'Beschrijf wat u nodig heeft en onze AI maakt een wachtwoord dat exact aan uw eisen voldoet.',
                    faqEyebrow: 'FAQ', faqTitle: 'Veelgestelde vragen',
                    faq1Q: 'Is deze wachtwoordgenerator echt veilig?',
                    faq1A: 'Ja. Alle wachtwoorden worden gegenereerd via de Web Crypto API direct in uw browser. Er worden nooit gegevens naar een server verzonden.',
                    faq2Q: 'Slaat de AI-modus mijn invoer of wachtwoorden op?',
                    faq2A: 'Nee. Uw AI-invoer wordt alleen naar het Cloudflare Workers AI-eindpunt gestuurd. Van onze kant wordt niets gelogd of opgeslagen.',
                    faq3Q: 'Hoe lang moet mijn wachtwoord zijn?',
                    faq3A: 'Voor de meeste accounts is 16+ tekens met een mix van hoofd- en kleine letters, cijfers en symbolen uitstekend. Voor belangrijke accounts zoals bank of e-mail: 20+ tekens.',
                    faq4Q: 'Waarom een wachtwoordzin gebruiken?',
                    faq4A: 'Wachtwoordzinnen zijn langer en makkelijker te onthouden terwijl ze nog steeds erg veilig zijn. Gebruik de AI-modus om er een op maat te genereren.',
                    footerTagline: 'Gratis veilige wachtwoordgenerator',
                    newPasswordBtn: 'Nieuw wachtwoord',
                    aiCopyBtn: 'Wachtwoord kopiëren', copied: 'Gekopieerd!',
                    noAmbiguousLabel: 'Dubbelzinnige tekens uitsluiten (0Ol1I)',
                    strengthWarning: 'Dit wachtwoord is te zwak. Vergroot de lengte of voeg meer tekentypen toe.',
                    modeRandom: 'Willekeurig', modePassphrase: 'Wachtzin', modePin: 'PIN',
                    wordCountLabel: 'Aantal woorden', separatorLabel: 'Scheidingsteken',
                    capitalizeLabel: 'Hoofdletters', appendNumLabel: 'Cijfer toevoegen',
                    pinLengthLabel: 'PIN-lengte',
                    historyTitle: 'Recent (deze sessie)', historyEmpty: 'Nog geen geschiedenis',
                    newPhraseBtn: 'Nieuwe wachtzin', newPinBtn: 'Nieuwe PIN',
                    copyPhraseBtn: 'Wachtzin kopiëren', copyPinBtn: 'PIN kopiëren'
                },
                pl: {
                    title: 'Bezpieczny generator haseł',
                    subtitle: 'Silne, unikalne hasła generowane natychmiast w Twojej przeglądarce. Nic nigdy nie opuszcza Twojego urządzenia.',
                    manualLabel: 'TRYB RĘCZNY',
                    aiLabel: 'TRYB AI',
                    lengthLabel: 'Długość hasła:',
                    includeLabel: 'Uwzględnij:',
                    uppercaseLabel: 'Wielkie litery (A-Z)',
                    lowercaseLabel: 'Małe litery (a-z)',
                    numbersLabel: 'Cyfry (0-9)',
                    symbolsLabel: 'Znaki specjalne (!@#$%^&*)',
                    generateBtn: 'Generuj hasło',
                    copyBtn: 'Kopiuj',
                    aiInputLabel: 'Opisz, czego potrzebujesz:',
                    aiPlaceholder: 'np. hasło do mojego konta bankowego, które mogę zapamiętać',
                    aiBtn: 'Generuj z AI',
                    aiLoading: 'Generowanie...',
                    aiSecurityNote: 'Twój opis jest używany tylko do wygenerowania hasła i nigdy nie jest przechowywany ani zapamiętywany przez AI.',
                    strengthWeak: 'SŁABE', strengthModerate: 'ŚREDNIE', strengthStrong: 'SILNE', strengthVeryStrong: 'BARDZO SILNE',
                    aiError: '[BŁĄD] Nie można połączyć się z AI. Upewnij się, że powiązanie Workers AI jest włączone w ustawieniach Cloudflare Pages.',
                    trust1Title: 'Tylko przeglądarka', trust1Sub: 'Zero kontaktu z serwerem',
                    trust2Title: 'Bez konta', trust2Sub: '100% bezpłatne',
                    trust3Title: 'Wspierane przez AI', trust3Sub: 'Język naturalny',
                    featEyebrow: 'Dlaczego pwasecurity', featTitle: 'Zbudowane dla bezpieczeństwa, stworzone dla wszystkich',
                    featSub: 'Bez rejestracji, bez serwerów, bez śledzenia. Silne hasła generowane bezpośrednio w przeglądarce.',
                    f1Title: 'Całkowicie prywatne', f1Body: 'Cała generacja odbywa się w Twojej przeglądarce. Twoje hasła nigdy nie trafiają na nasze serwery — bo ich nie mamy.',
                    f2Title: 'Analiza siły w czasie rzeczywistym', f2Body: 'Natychmiast sprawdź, jak silne jest Twoje hasło dzięki naszemu miernikowi entropii na żywo.',
                    f3Title: 'Hasła dopasowane przez AI', f3Body: 'Opisz, czego potrzebujesz, a nasza AI stworzy hasło dokładnie spełniające Twoje wymagania.',
                    faqEyebrow: 'FAQ', faqTitle: 'Często zadawane pytania',
                    faq1Q: 'Czy ten generator haseł jest naprawdę bezpieczny?',
                    faq1A: 'Tak. Wszystkie hasła są generowane za pomocą Web Crypto API bezpośrednio w Twojej przeglądarce. Żadne dane nie są wysyłane na serwer.',
                    faq2Q: 'Czy tryb AI przechowuje moje dane lub hasła?',
                    faq2A: 'Nie. Twoje dane AI są wysyłane tylko do endpointu Cloudflare Workers AI. Z naszej strony nic nie jest rejestrowane ani przechowywane.',
                    faq3Q: 'Jak długie powinno być moje hasło?',
                    faq3A: 'Dla większości kont 16+ znaków z mieszanką wielkich i małych liter, cyfr i symboli jest doskonałe. Dla ważnych kont jak bank czy e-mail: 20+ znaków.',
                    faq4Q: 'Dlaczego używać hasła frazowego?',
                    faq4A: 'Hasła frazowe są dłuższe i łatwiejsze do zapamiętania, a jednocześnie bardzo bezpieczne. Użyj trybu AI, aby wygenerować dopasowane hasło frazowe.',
                    footerTagline: 'Darmowy bezpieczny generator haseł',
                    newPasswordBtn: 'Nowe hasło',
                    aiCopyBtn: 'Kopiuj hasło', copied: 'Skopiowano!',
                    noAmbiguousLabel: 'Wyklucz niejednoznaczne (0Ol1I)',
                    strengthWarning: 'To hasło jest zbyt słabe. Zwiększ długość lub dodaj więcej typów znaków.',
                    modeRandom: 'Losowe', modePassphrase: 'Hasło zdaniowe', modePin: 'PIN',
                    wordCountLabel: 'Liczba słów', separatorLabel: 'Separator',
                    capitalizeLabel: 'Wielkie litery', appendNumLabel: 'Dodaj numer',
                    pinLengthLabel: 'Długość PIN',
                    historyTitle: 'Ostatnie (ta sesja)', historyEmpty: 'Brak historii',
                    newPhraseBtn: 'Nowe hasło zdaniowe', newPinBtn: 'Nowy PIN',
                    copyPhraseBtn: 'Kopiuj hasło zdaniowe', copyPinBtn: 'Kopiuj PIN'
                },
                ru: {
                    title: 'Безопасный генератор паролей',
                    subtitle: 'Надёжные уникальные пароли, созданные мгновенно в вашем браузере. Ничто никогда не покидает ваше устройство.',
                    manualLabel: 'РУЧНОЙ РЕЖИМ',
                    aiLabel: 'РЕЖИМ ИИ',
                    lengthLabel: 'Длина пароля:',
                    includeLabel: 'Включить:',
                    uppercaseLabel: 'Заглавные буквы (A-Z)',
                    lowercaseLabel: 'Строчные буквы (a-z)',
                    numbersLabel: 'Цифры (0-9)',
                    symbolsLabel: 'Специальные символы (!@#$%^&*)',
                    generateBtn: 'Создать пароль',
                    copyBtn: 'Копировать',
                    aiInputLabel: 'Опишите, что вам нужно:',
                    aiPlaceholder: 'напр. пароль для банковского счёта, который я смогу запомнить',
                    aiBtn: 'Создать с помощью ИИ',
                    aiLoading: 'Создание...',
                    aiSecurityNote: 'Ваше описание используется только для генерации пароля и никогда не сохраняется и не запоминается ИИ.',
                    strengthWeak: 'СЛАБЫЙ', strengthModerate: 'УМЕРЕННЫЙ', strengthStrong: 'СИЛЬНЫЙ', strengthVeryStrong: 'ОЧЕНЬ СИЛЬНЫЙ',
                    aiError: '[ОШИБКА] Не удалось подключиться к ИИ. Убедитесь, что привязка Workers AI включена в настройках Cloudflare Pages.',
                    trust1Title: 'Только браузер', trust1Sub: 'Без контакта с сервером',
                    trust2Title: 'Без аккаунта', trust2Sub: '100% бесплатно',
                    trust3Title: 'На основе ИИ', trust3Sub: 'Естественный язык',
                    featEyebrow: 'Почему pwasecurity', featTitle: 'Создано для безопасности, разработано для всех',
                    featSub: 'Без регистрации, без серверов, без слежки. Надёжные пароли прямо в вашем браузере.',
                    f1Title: 'Полная приватность', f1Body: 'Вся генерация происходит в вашем браузере. Ваши пароли никогда не попадают на наши серверы — потому что их нет.',
                    f2Title: 'Анализ надёжности в реальном времени', f2Body: 'Мгновенно оценивайте надёжность пароля с помощью нашего live-измерителя энтропии.',
                    f3Title: 'Пароли, адаптированные ИИ', f3Body: 'Опишите, что вам нужно, и наш ИИ создаст пароль, точно соответствующий вашим требованиям.',
                    faqEyebrow: 'FAQ', faqTitle: 'Частые вопросы',
                    faq1Q: 'Действительно ли этот генератор безопасен?',
                    faq1A: 'Да. Все пароли генерируются через Web Crypto API прямо в вашем браузере. Данные никогда не отправляются на сервер.',
                    faq2Q: 'Хранит ли режим ИИ мои запросы или пароли?',
                    faq2A: 'Нет. Ваши запросы отправляются только на endpoint Cloudflare Workers AI. С нашей стороны ничего не записывается и не сохраняется.',
                    faq3Q: 'Какой длины должен быть пароль?',
                    faq3A: 'Для большинства аккаунтов отлично подходят 16+ символов с заглавными, строчными буквами, цифрами и символами. Для важных аккаунтов используйте 20+ символов.',
                    faq4Q: 'Зачем использовать парольную фразу?',
                    faq4A: 'Парольные фразы длиннее и легче запоминаются, при этом оставаясь очень надёжными. Используйте режим ИИ для создания запоминающейся фразы под ваш контекст.',
                    footerTagline: 'Бесплатный безопасный генератор паролей',
                    newPasswordBtn: 'Новый пароль',
                    aiCopyBtn: 'Скопировать пароль', copied: 'Скопировано!',
                    noAmbiguousLabel: 'Исключить неоднозначные (0Ol1I)',
                    strengthWarning: 'Этот пароль слишком слабый. Увеличьте длину или добавьте больше типов символов.',
                    modeRandom: 'Случайный', modePassphrase: 'Кодовая фраза', modePin: 'PIN',
                    wordCountLabel: 'Количество слов', separatorLabel: 'Разделитель',
                    capitalizeLabel: 'Заглавные', appendNumLabel: 'Добавить цифру',
                    pinLengthLabel: 'Длина PIN',
                    historyTitle: 'Недавние (эта сессия)', historyEmpty: 'История пуста',
                    newPhraseBtn: 'Новая фраза', newPinBtn: 'Новый PIN',
                    copyPhraseBtn: 'Копировать фразу', copyPinBtn: 'Копировать PIN'
                }
            };

            generatePassword();

            function setLanguage(lang) {
                currentLang = lang;
                document.documentElement.lang = lang;
                const t = translations[lang];
                document.getElementById('title').textContent = t.title;
                document.getElementById('subtitle').textContent = t.subtitle;
                document.getElementById('manual-label').textContent = t.manualLabel;
                document.getElementById('ai-label').textContent = t.aiLabel;
                document.getElementById('length-label').textContent = t.lengthLabel;
                document.getElementById('uppercase-label').textContent = t.uppercaseLabel;
                document.getElementById('lowercase-label').textContent = t.lowercaseLabel;
                document.getElementById('numbers-label').textContent = t.numbersLabel;
                document.getElementById('symbols-label').textContent = t.symbolsLabel;
                document.getElementById('generate-btn').textContent = t.generateBtn;
                // copy-btn-text updated via copyBtnText ref
                document.getElementById('ai-input-label').textContent = t.aiInputLabel;
                document.getElementById('ai-input').placeholder = t.aiPlaceholder;
                document.getElementById('ai-btn').textContent = t.aiBtn;
                document.getElementById('ai-loading').textContent = t.aiLoading;
                document.getElementById('ai-security-note-text').textContent = t.aiSecurityNote;

                document.getElementById('trust-1-title').textContent = t.trust1Title;
                document.getElementById('trust-1-sub').textContent   = t.trust1Sub;
                document.getElementById('trust-2-title').textContent = t.trust2Title;
                document.getElementById('trust-2-sub').textContent   = t.trust2Sub;
                document.getElementById('trust-3-title').textContent = t.trust3Title;
                document.getElementById('trust-3-sub').textContent   = t.trust3Sub;

                document.getElementById('feat-eyebrow').textContent = t.featEyebrow;
                document.getElementById('feat-title').textContent   = t.featTitle;
                document.getElementById('feat-sub').textContent     = t.featSub;
                document.getElementById('f1-title').textContent = t.f1Title;
                document.getElementById('f1-body').textContent  = t.f1Body;
                document.getElementById('f2-title').textContent = t.f2Title;
                document.getElementById('f2-body').textContent  = t.f2Body;
                document.getElementById('f3-title').textContent = t.f3Title;
                document.getElementById('f3-body').textContent  = t.f3Body;

                document.getElementById('faq-eyebrow').textContent = t.faqEyebrow;
                document.getElementById('faq-title').textContent   = t.faqTitle;
                document.getElementById('faq-1-q').textContent = t.faq1Q;
                document.getElementById('faq-1-a').textContent = t.faq1A;
                document.getElementById('faq-2-q').textContent = t.faq2Q;
                document.getElementById('faq-2-a').textContent = t.faq2A;
                document.getElementById('faq-3-q').textContent = t.faq3Q;
                document.getElementById('faq-3-a').textContent = t.faq3A;
                document.getElementById('faq-4-q').textContent = t.faq4Q;
                document.getElementById('faq-4-a').textContent = t.faq4A;

                document.getElementById('footer-tagline').textContent = t.footerTagline;
                document.getElementById('no-ambiguous-label').textContent = t.noAmbiguousLabel;
                document.getElementById('ai-copy-btn-text').textContent = t.aiCopyBtn;

                // Mode-specific button labels
                if (currentMode === 'random') {
                    document.getElementById('generate-btn-text').textContent = t.newPasswordBtn;
                    document.getElementById('copy-btn-text').textContent = t.aiCopyBtn || 'Copy Password';
                } else if (currentMode === 'passphrase') {
                    document.getElementById('generate-btn-text').textContent = t.newPhraseBtn || 'New Passphrase';
                    document.getElementById('copy-btn-text').textContent = t.copyPhraseBtn || 'Copy Passphrase';
                } else if (currentMode === 'pin') {
                    document.getElementById('generate-btn-text').textContent = t.newPinBtn || 'New PIN';
                    document.getElementById('copy-btn-text').textContent = t.copyPinBtn || 'Copy PIN';
                }

                // Mode bar labels
                document.getElementById('mode-btn-random').textContent = t.modeRandom || 'Random';
                document.getElementById('mode-btn-passphrase').textContent = t.modePassphrase || 'Passphrase';
                document.getElementById('mode-btn-pin').textContent = t.modePin || 'PIN';

                // Passphrase panel labels
                document.getElementById('word-count-label').textContent = t.wordCountLabel || 'Word Count';
                document.getElementById('separator-label').textContent = t.separatorLabel || 'Separator';
                document.getElementById('capitalize-label').textContent = t.capitalizeLabel || 'Capitalize';
                document.getElementById('append-num-label').textContent = t.appendNumLabel || 'Add number';

                // PIN panel labels
                document.getElementById('pin-length-label').textContent = t.pinLengthLabel || 'PIN Length';

                // History labels
                document.getElementById('history-title').textContent = t.historyTitle || 'Recent (this session)';
                if (pwHistory.length === 0) {
                    const emptyEl = document.getElementById('history-empty');
                    if (emptyEl) emptyEl.textContent = t.historyEmpty || 'No passwords generated yet';
                } else {
                    renderHistory();
                }

                langSelect.value = lang;

                if (strengthText.textContent) {
                    if (currentMode === 'random') updateStrengthMeter(passwordDisplay.textContent);
                    else if (currentMode === 'passphrase') updatePhraseStrength(+phraseSlider.value, document.getElementById('phrase-append-num').checked);
                }
            }



            // AI copy btn
            document.getElementById('ai-copy-btn').addEventListener('click', function () {
                const pwd = aiPassword.textContent.replace(/^>\s*/, '');
                if (!pwd) return;
                const btnText = document.getElementById('ai-copy-btn-text');
                navigator.clipboard.writeText(pwd).then(function () {
                    document.getElementById('ai-copy-btn').style.background = 'var(--green)';
                    document.getElementById('ai-copy-btn').style.color = '#fff';
                    btnText.textContent = translations[currentLang].copied || 'Copied!';
                    setTimeout(() => {
                        document.getElementById('ai-copy-btn').style.background = '';
                        document.getElementById('ai-copy-btn').style.color = '';
                        btnText.textContent = translations[currentLang].aiCopyBtn;
                    }, 2000);
                }).catch(function () {
                    const ta = document.createElement('textarea');
                    ta.value = pwd; document.body.appendChild(ta); ta.select();
                    document.execCommand('copy'); document.body.removeChild(ta);
                    btnText.textContent = translations[currentLang].copied || 'Copied!';
                    setTimeout(() => { btnText.textContent = translations[currentLang].aiCopyBtn; }, 2000);
                });
            });
            // Tab switching
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById('panel-' + btn.dataset.tab).classList.add('active');
                });
            });
            langSelect.addEventListener('change', () => setLanguage(langSelect.value));
            const browserLang = (navigator.language || navigator.userLanguage || 'en').toLowerCase().split('-')[0];
            setLanguage(translations[browserLang] ? browserLang : 'en');

            const nav = document.getElementById('main-nav');
            window.addEventListener('scroll', () => nav.classList.toggle('scrolled', scrollY > 10), { passive: true });
        });
    </script>

    <!-- Cookie consent banner -->
    <div class="cookie-banner" id="cookie-banner">
        <span class="cookie-icon">🍪</span>
        <div class="cookie-title">Cookies &amp; Ads</div>
        <p class="cookie-text">We use Google AdSense to show ads. Ads may use cookies to personalise what you see. <a href="/privacy.html">Privacy policy →</a></p>
        <div class="cookie-actions">
            <button class="cookie-btn cookie-btn-decline" id="cookie-decline">Decline</button>
            <button class="cookie-btn cookie-btn-accept" id="cookie-accept">Accept</button>
        </div>
    </div>
    <script>
        (function () {
            const banner = document.getElementById('cookie-banner');
            const consent = localStorage.getItem('cookie-consent');
            if (consent) {
                banner.classList.add('hidden');
                if (consent === 'declined') pauseAds();
            }
            document.getElementById('cookie-accept').addEventListener('click', function () {
                localStorage.setItem('cookie-consent', 'accepted');
                banner.classList.add('hidden');
            });
            document.getElementById('cookie-decline').addEventListener('click', function () {
                localStorage.setItem('cookie-consent', 'declined');
                banner.classList.add('hidden');
                pauseAds();
            });
            function pauseAds() {
                document.querySelectorAll('ins.adsbygoogle, script[src*="adsbygoogle"]').forEach(function (el) {
                    el.remove();
                });
            }
        })();
    </script>
    <script>
        if (window.matchMedia('(max-width: 768px)').matches) {
            document.querySelectorAll('details.guide-block').forEach(function(d) {
                d.removeAttribute('open');
            });
        }
    </script>
</body>
</html>